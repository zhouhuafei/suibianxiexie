<!doctype html>
<html lang="en">
    <head>
        <!-- 字符编码 -->
        <meta charset="UTF-8">
        <!-- 搜索引擎抓取 -->
        <meta name="robots" content="index,follow">
        <!-- ie以最高级模式渲染文档 -->
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <!-- 窗口宽度等于设备宽度以及禁止缩放 -->
        <meta name="viewport"
              content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
        <!-- 是否需要默认的工具栏和菜单栏(针对苹果手机,默认值yes,需要) -->
        <meta name="apple-mobile-web-app-capable" content="yes">
        <!-- 控制状态栏的样式(针对苹果手机,黑色) -->
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <!-- 禁止把数字转化为电话号码(针对苹果手机) -->
        <meta name="format-detection" content="telephone=no">
        <!-- 启用360浏览器的极速模式(webkit) -->
        <meta name="renderer" content="webkit">
        <!-- 禁止浏览器自动放大字体(针对UC手机) -->
        <meta name="wap-font-scale" content="no">
        <!-- qq强制竖屏 -->
        <meta name="x5-orientation" content="portrait">
        <!-- uc强制竖屏 -->
        <meta name="screen-orientation" content="portrait">
        <!-- 页面关键词 -->
        <meta name="keywords" content="zhouhuafei,周华飞">
        <!-- 页面描述 -->
        <meta name="description" content="zhouhuafei,周华飞">
        <!-- 页面作者 -->
        <meta name="author" content="zhouhuafei,周华飞,1123486116@qq.com">
        <!--页面标题-->
        <title>sku</title>
    </head>
    <body>
        <script>
            // 目标数组(一维数组和二维数组的长度都是不固定的)
            const target = [
                ['a', 'b', 'c'], // 一级规格
                [1, 2, 3], // 二级规格
                ['77', '88', '99'], // 三级规格
            ];
            // 结果数组
            const result = [
                ['a', 1, '77'],
                ['a', 1, '88'],
                ['a', 1, '99'],
                ['a', 2, '77'],
                ['a', 2, '88'],
                ['a', 2, '99'],
                ['a', 3, '77'],
                ['a', 3, '88'],
                ['a', 3, '99'],
                ['b', 1, '77'],
                ['b', 1, '88'],
                ['b', 1, '99'],
                ['b', 2, '77'],
                ['b', 2, '88'],
                ['b', 2, '99'],
                ['b', 3, '77'],
                ['b', 3, '88'],
                ['b', 3, '99'],
                ['c', 1, '77'],
                ['c', 1, '88'],
                ['c', 1, '99'],
                ['c', 2, '77'],
                ['c', 2, '88'],
                ['c', 2, '99'],
                ['c', 3, '77'],
                ['c', 3, '88'],
                ['c', 3, '99'],
            ];

            function sku(arr) {
                const length = arr.length;
                let num = 0;
                let result = [];
                if (length !== 0) {
                    arr[0].forEach(function (v) {
                        result.push([v]);
                    });
                    fn(arr);
                }

                function fn(arr) {
                    num++;
                    if (num < length) {
                        const r = [];
                        result.forEach(function (v1) {
                            arr[num].forEach(function (v2) {
                                r.push(v1.concat(v2));
                            });
                        });
                        result = r;
                        fn(arr);
                    }
                }

                console.log(result);
                return result;
            }

            sku(target);
        </script>
    </body>
</html>

webpackJsonp([4],{135:function(t,e,n){"use strict";function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}();n(136);var a=n(3),f=n(29),l=n(1),s=n(21);new(function(t){function e(){return r(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return c(e,t),u(e,[{key:"power",value:function(){function t(){var t=[],e=f(0,10),n=1;10===e&&(n=3),5===e&&(n=2);for(var o=[],r=f(0,p-1);-1===o.indexOf(r)&&o.length<n;)o.push(r),r=f(0,p-1);return o.forEach(function(e){t.push([e*b.w+e*d,-b.h,b.w,b.h])}),t}function e(){requestAnimationFrame(function(){if(0===v.length?v.push(t()):v[v.length-1][0][1]>=d&&v.push(t()),a.clearRect(0,0,i,c),v.forEach(function(t){t.forEach(function(t){a.save(),a.beginPath(),a.fillStyle="#000",a.rect.apply(a,o(t)),t[1]+=y,a.fill(),a.closePath(),a.restore()})}),h<0)return void setTimeout(function(){alert("游戏结束,总积分"+m),window.location.reload()},60);g(),v.forEach(function(t,e){t[0][1]>=c&&(v.splice(e,1),h--)}),e()})}90!==window.orientation&&-90!==window.orientation||alert("请竖屏之后，刷新页面进行游戏");var r=document.querySelector(".canvas-wrap"),i=r.offsetWidth,c=document.documentElement.clientHeight,u=l({elementName:"canvas",attribute:{width:i,height:c}});r.appendChild(u);for(var a=u.getContext("2d"),p=4,d=10,y=10,m=0,h=100,b={w:(i-(p-1)*d)/p,h:(c-3*d)/4,bg:"#000"},v=[],g=function(){a.save(),a.beginPath(),a.fillStyle="#f00",a.font="12px 微软雅黑",a.textAlign="center",a.textBaseline="middle",a.fillText("积分:"+m+",生命值:"+h,i/2,20),a.closePath(),a.restore()},w=document.querySelector(".g-audio"),x=[],S=0;S<7;S++)x.push(n(30)("./"+(S+1)+".mp3"));var E=w.classList.contains("g-audio_on");w.addEventListener("click",function(){E=!E,this.classList.toggle("g-audio_on")});var O=document.querySelector("html").classList.contains("g-pc");u.addEventListener(O?"click":"touchstart",function(t){t.preventDefault(),t.stopPropagation(),t=O?t:t.changedTouches[0];var e=t.clientX-s(r).left,n=t.clientY,o=!1;v.forEach(function(t,r){t.forEach(function(r,i){if(e>=r[0]&&e<=r[0]+b.w&&n>=r[1]&&n<=r[1]+b.h){if(t.splice(i,1),m++,E){var c=l({elementName:"audio"});c.setAttribute("src",x[f(0,x.length-1)]),c.play(),c=null}o=!0}}),0===t.length&&v.splice(r,1)}),o||--h<0&&(alert("游戏结束,总积分"+m),window.location.reload())}),document.querySelector(".game-start").addEventListener("click",function(){this.style.display="none",w.style.display="none",e()})}}]),e}(a))},136:function(t,e){},29:function(t,e,n){"use strict";var o,r,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c="function"==typeof Symbol&&"symbol"==i(Symbol.iterator)?function(t){return void 0===t?"undefined":i(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":i(t)};!function(i,u){"object"===c(e)&&void 0!==t?t.exports=u():(o=u,void 0!==(r="function"==typeof o?o.call(e,n,e,t):o)&&(t.exports=r))}(0,function(){return function(t,e){return e||(e=t,t=0),Math.round(Math.random()*(e-t)+t)}})},30:function(t,e,n){function o(t){return n(r(t))}function r(t){var e=i[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var i={"./1.mp3":31,"./2.mp3":32,"./3.mp3":33,"./4.mp3":34,"./5.mp3":35,"./6.mp3":36,"./7.mp3":37};o.keys=function(){return Object.keys(i)},o.resolve=r,t.exports=o,o.id=30},31:function(t,e,n){t.exports=n.p+"audios/1.38e46759.mp3"},32:function(t,e,n){t.exports=n.p+"audios/2.5576c20e.mp3"},33:function(t,e,n){t.exports=n.p+"audios/3.25e1d33d.mp3"},34:function(t,e,n){t.exports=n.p+"audios/4.220478be.mp3"},35:function(t,e,n){t.exports=n.p+"audios/5.ab15dc12.mp3"},36:function(t,e,n){t.exports=n.p+"audios/6.44295654.mp3"},37:function(t,e,n){t.exports=n.p+"audios/7.c04a5503.mp3"}},[135]);
//# sourceMappingURL=game-biecaibaikuai.aff70bb1b43c54a26f28.js.map
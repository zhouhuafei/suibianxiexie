{"version":3,"sources":["webpack:///js/pages/game-wuziqi.c9e008ac073b3632daf0.js","webpack:///./app/h5/assets/js/pages/game-wuziqi/index.js","webpack:///./node_modules/zhf.random-num/dist/index.min.js","webpack:///./app/h5/assets/audios/syllable ^\\.\\/.*\\.mp3$","webpack:///./app/h5/assets/audios/syllable/1.mp3","webpack:///./app/h5/assets/audios/syllable/2.mp3","webpack:///./app/h5/assets/audios/syllable/3.mp3","webpack:///./app/h5/assets/audios/syllable/4.mp3","webpack:///./app/h5/assets/audios/syllable/5.mp3","webpack:///./app/h5/assets/audios/syllable/6.mp3","webpack:///./app/h5/assets/audios/syllable/7.mp3"],"names":["webpackJsonp","139","module","exports","__webpack_require__","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","_createClass","defineProperties","target","props","i","length","descriptor","defineProperty","key","protoProps","staticProps","Super","offset","createElement","randomNum","_Super","Sub","this","getPrototypeOf","apply","arguments","window","orientation","alert","canvasWrap","document","querySelector","w","offsetWidth","h","documentElement","clientHeight","game","nextColor","blackNum","whiteNum","colWidth","padding","initY","map","Math","pow","x","y","floor","push","left","top","radius","type","canvas","elementName","attribute","width","height","ctx","getContext","drawLine","startX","startY","endX","endY","save","beginPath","strokeStyle","moveTo","lineTo","stroke","closePath","restore","drawCircle","r","fillStyle","arc","PI","fill","drawTxt","clearRect","font","textAlign","textBaseline","fillText","forEach","v","colNum","audioWrap","audioSrc","hasSound","classList","contains","addEventListener","toggle","ev","clientX","clientY","nowX","nowY","audioDom","setAttribute","play","result","str","victory","k","v1","v2","indexOf","setTimeout","location","reload","appendChild","140","29","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_RESULT__","_typeof2","Symbol","iterator","obj","_typeof","o","t","undefined","round","random","30","webpackContext","req","webpackContextResolve","id","Error","./1.mp3","./2.mp3","./3.mp3","./4.mp3","./5.mp3","./6.mp3","./7.mp3","keys","resolve","31","p","32","33","34","35","36","37"],"mappings":"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","file":"js/pages/game-wuziqi.c9e008ac073b3632daf0.js","sourcesContent":["webpackJsonp([3],{\n\n/***/ 139:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n__webpack_require__(140);\nvar Super = __webpack_require__(3);\nvar offset = __webpack_require__(21);\nvar createElement = __webpack_require__(1);\nvar randomNum = __webpack_require__(29);\n\nvar Sub = function (_Super) {\n    _inherits(Sub, _Super);\n\n    function Sub() {\n        _classCallCheck(this, Sub);\n\n        return _possibleConstructorReturn(this, (Sub.__proto__ || Object.getPrototypeOf(Sub)).apply(this, arguments));\n    }\n\n    _createClass(Sub, [{\n        key: 'power',\n\n        // (功)(覆)功能(覆盖超类型)\n        value: function power() {\n            // 横屏的时候 90 -190 , 横屏的时候 0 180\n            if (window.orientation === 90 || window.orientation === -90) {\n                alert('请竖屏之后，刷新页面进行游戏');\n            }\n            var canvasWrap = document.querySelector('.canvas-wrap');\n            var w = canvasWrap.offsetWidth;\n            var h = document.documentElement.clientHeight;\n            var padding = 20.5;\n            var colNum = 15; // 正规应该是15列\n            var game = {\n                nextColor: 'black', // 下一颗棋子的颜色\n                blackNum: 0, // 黑色棋子个数\n                whiteNum: 0 // 白色棋子个数\n            };\n            var colWidth = (w - padding * 2) / (colNum - 1);\n            var initX = padding;\n            var initY = (h - w) / 2 + padding;\n            var map = [];\n            for (var i = 0; i < Math.pow(colNum, 2); i++) {\n                var x = i % colNum;\n                var y = Math.floor(i / colNum);\n                map.push({\n                    x: x,\n                    y: y,\n                    left: x * colWidth + initX,\n                    top: y * colWidth + initY,\n                    radius: colWidth / 2.4,\n                    type: 'transparent'\n                });\n            }\n            var canvas = createElement({\n                elementName: 'canvas',\n                attribute: {\n                    width: w,\n                    height: h\n                }\n            });\n            var ctx = canvas.getContext('2d');\n            var drawLine = function drawLine(startX, startY, endX, endY) {\n                ctx.save();\n                ctx.beginPath();\n                ctx.strokeStyle = '#000';\n                ctx.moveTo(startX, startY);\n                ctx.lineTo(endX, endY);\n                ctx.stroke();\n                ctx.closePath();\n                ctx.restore();\n            };\n            var drawCircle = function drawCircle(x, y, r, fillStyle) {\n                ctx.save();\n                ctx.beginPath();\n                ctx.fillStyle = fillStyle;\n                ctx.arc(x, y, r, 0, Math.PI * 2, false);\n                ctx.fill();\n                ctx.closePath();\n                ctx.restore();\n            };\n            var drawTxt = function drawTxt() {\n                ctx.save();\n                ctx.beginPath();\n                ctx.clearRect(0, 0, w, initY / 1.4);\n                ctx.font = '16px 微软雅黑';\n                ctx.textAlign = 'center';\n                ctx.textBaseline = 'middle';\n                ctx.fillText('\\u8BF7' + (game.nextColor === 'black' ? '黑色' : '白色') + '\\u68CB\\u5B50\\u843D\\u5B50', w / 2, initY / 2);\n                ctx.closePath();\n                ctx.restore();\n            };\n            drawTxt();\n            var drawCoordinate = function drawCoordinate(v) {\n                ctx.save();\n                ctx.beginPath();\n                ctx.font = '10px 微软雅黑';\n                ctx.textAlign = 'center';\n                ctx.textBaseline = 'middle';\n                ctx.fillText(v.x + ',' + v.y, v.left, v.top);\n                ctx.closePath();\n                ctx.restore();\n            };\n            map.forEach(function (v, i) {\n                if (v.x === 0) {\n                    var target = map[i + colNum - 1];\n                    drawLine(v.left, v.top, target.left, target.top);\n                }\n                if (v.y === 0) {\n                    var _target = map[colNum * colNum - 1 - (colNum - 1) + v.x];\n                    drawLine(v.left, v.top, _target.left, _target.top);\n                }\n                if (i === Math.floor(map.length / 2)) {\n                    drawCircle(v.left, v.top, v.radius / 4, 'black');\n                }\n                // drawCoordinate(v); // 画坐标\n            });\n            // 声音\n            var audioWrap = document.querySelector('.g-audio');\n            var audioSrc = [];\n            for (var _i = 0; _i < 7; _i++) {\n                audioSrc.push(__webpack_require__(30)(\"./\" + (_i + 1) + '.mp3'));\n            }\n            var hasSound = audioWrap.classList.contains('g-audio_on');\n            audioWrap.addEventListener('click', function () {\n                hasSound = !hasSound;\n                this.classList.toggle('g-audio_on');\n            });\n            // 落子\n            canvas.addEventListener('click', function (ev) {\n                var clientX = ev.clientX - offset(canvasWrap).left;\n                var clientY = ev.clientY;\n                var nowX = null;\n                var nowY = null;\n                map.forEach(function (v) {\n                    if (clientX >= v.left - v.radius && clientX <= v.left + v.radius && clientY >= v.top - v.radius && clientY <= v.top + v.radius) {\n                        // 判断点击范围是否是正确的区域\n                        if (v.type === 'transparent') {\n                            // 音乐\n                            if (hasSound) {\n                                var audioDom = createElement({ elementName: 'audio' });\n                                // audioDom.setAttribute('src', audioSrc[(game.blackNum + game.whiteNum) % audioSrc.length]);\n                                audioDom.setAttribute('src', audioSrc[randomNum(0, audioSrc.length - 1)]);\n                                audioDom.play();\n                                audioDom = null;\n                            }\n                            drawCircle(v.left, v.top, v.radius, game.nextColor);\n                            v.type = game.nextColor;\n                            nowX = v.x;\n                            nowY = v.y;\n                            if (game.nextColor === 'black') {\n                                game.blackNum++;\n                                game.nextColor = 'white';\n                            } else {\n                                game.whiteNum++;\n                                game.nextColor = 'black';\n                            }\n                        }\n                    }\n                });\n                // 提示信息\n                drawTxt();\n                // 判断输赢\n                var result = ['', '', '', ''];\n                map.forEach(function (v) {\n                    var str = '';\n                    if (v.type === 'transparent') {\n                        str = 't';\n                    }\n                    if (v.type === 'black') {\n                        str = 'b';\n                    }\n                    if (v.type === 'white') {\n                        str = 'w';\n                    }\n                    if (v.x === nowX) {\n                        //  垂直\n                        result[0] += str;\n                    }\n                    if (v.y === nowY) {\n                        //  水平\n                        result[1] += str;\n                    }\n                    if (v.x + v.y === nowX + nowY) {\n                        // 左斜\n                        result[2] += str;\n                    }\n                    if (v.x - v.y === nowX - nowY) {\n                        // 右斜\n                        result[3] += str;\n                    }\n                });\n                var victory = [{\n                    k: 'bbbbb',\n                    v: '黑棋获胜'\n                }, {\n                    k: 'wwwww',\n                    v: '白棋获胜'\n                }];\n                result.forEach(function (v1) {\n                    victory.forEach(function (v2) {\n                        if (v1.indexOf(v2.k) !== -1) {\n                            setTimeout(function () {\n                                alert(v2.v);\n                                window.location.reload();\n                            }, 60);\n                        }\n                    });\n                });\n            });\n            canvasWrap.appendChild(canvas);\n        }\n    }]);\n\n    return Sub;\n}(Super);\n\nnew Sub();\n\n/***/ }),\n\n/***/ 140:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 29:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;\n\nvar _typeof2 = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _typeof = \"function\" == typeof Symbol && \"symbol\" == _typeof2(Symbol.iterator) ? function (o) {\n  return typeof o === \"undefined\" ? \"undefined\" : _typeof2(o);\n} : function (o) {\n  return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o === \"undefined\" ? \"undefined\" : _typeof2(o);\n};!function (o, t) {\n  \"object\" === ( false ? \"undefined\" : _typeof(exports)) && \"undefined\" != typeof module ? module.exports = t() :  true ? !(__WEBPACK_AMD_DEFINE_FACTORY__ = (t),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) :\n\t\t\t\t__WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)) : (\"object\" !== Object.prototype.toString.call(window.zhf).slice(8, -1).toLowerCase() && (window.zhf = {}), window.zhf.randomNum = t());\n}(0, function () {\n  return function (o, t) {\n    return t || (t = o, o = 0), Math.round(Math.random() * (t - o) + o);\n  };\n});\n\n/***/ }),\n\n/***/ 30:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar map = {\n\t\"./1.mp3\": 31,\n\t\"./2.mp3\": 32,\n\t\"./3.mp3\": 33,\n\t\"./4.mp3\": 34,\n\t\"./5.mp3\": 35,\n\t\"./6.mp3\": 36,\n\t\"./7.mp3\": 37\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 30;\n\n/***/ }),\n\n/***/ 31:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"audios/1.38e46759.mp3\";\n\n/***/ }),\n\n/***/ 32:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"audios/2.5576c20e.mp3\";\n\n/***/ }),\n\n/***/ 33:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"audios/3.25e1d33d.mp3\";\n\n/***/ }),\n\n/***/ 34:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"audios/4.220478be.mp3\";\n\n/***/ }),\n\n/***/ 35:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"audios/5.ab15dc12.mp3\";\n\n/***/ }),\n\n/***/ 36:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"audios/6.44295654.mp3\";\n\n/***/ }),\n\n/***/ 37:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"audios/7.c04a5503.mp3\";\n\n/***/ })\n\n},[139]);\n\n\n// WEBPACK FOOTER //\n// js/pages/game-wuziqi.c9e008ac073b3632daf0.js","require('../../../scss/pages/game-wuziqi.scss');\nconst Super = require('../../pages-super/super');\nconst offset = require('zhf.offset');\nconst createElement = require('zhf.create-element');\nconst randomNum = require('zhf.random-num');\n\nclass Sub extends Super {\n    // (功)(覆)功能(覆盖超类型)\n    power() {\n        // 横屏的时候 90 -190 , 横屏的时候 0 180\n        if (window.orientation === 90 || window.orientation === -90) {\n            alert('请竖屏之后，刷新页面进行游戏');\n        }\n        const canvasWrap = document.querySelector('.canvas-wrap');\n        const w = canvasWrap.offsetWidth;\n        const h = document.documentElement.clientHeight;\n        const padding = 20.5;\n        const colNum = 15; // 正规应该是15列\n        const game = {\n            nextColor: 'black', // 下一颗棋子的颜色\n            blackNum: 0, // 黑色棋子个数\n            whiteNum: 0, // 白色棋子个数\n        };\n        const colWidth = (w - padding * 2) / (colNum - 1);\n        const initX = padding;\n        const initY = (h - w) / 2 + padding;\n        const map = [];\n        for (let i = 0; i < Math.pow(colNum, 2); i++) {\n            const x = i % colNum;\n            const y = Math.floor(i / colNum);\n            map.push({\n                x: x,\n                y: y,\n                left: x * colWidth + initX,\n                top: y * colWidth + initY,\n                radius: colWidth / 2.4,\n                type: 'transparent',\n            });\n        }\n        const canvas = createElement({\n            elementName: 'canvas',\n            attribute: {\n                width: w,\n                height: h,\n            },\n        });\n        const ctx = canvas.getContext('2d');\n        const drawLine = function (startX, startY, endX, endY) {\n            ctx.save();\n            ctx.beginPath();\n            ctx.strokeStyle = '#000';\n            ctx.moveTo(startX, startY);\n            ctx.lineTo(endX, endY);\n            ctx.stroke();\n            ctx.closePath();\n            ctx.restore();\n        };\n        const drawCircle = function (x, y, r, fillStyle) {\n            ctx.save();\n            ctx.beginPath();\n            ctx.fillStyle = fillStyle;\n            ctx.arc(x, y, r, 0, Math.PI * 2, false);\n            ctx.fill();\n            ctx.closePath();\n            ctx.restore();\n        };\n        const drawTxt = function () {\n            ctx.save();\n            ctx.beginPath();\n            ctx.clearRect(0, 0, w, initY / 1.4);\n            ctx.font = '16px 微软雅黑';\n            ctx.textAlign = 'center';\n            ctx.textBaseline = 'middle';\n            ctx.fillText(`请${game.nextColor === 'black' ? '黑色' : '白色'}棋子落子`, w / 2, initY / 2);\n            ctx.closePath();\n            ctx.restore();\n        };\n        drawTxt();\n        const drawCoordinate = function (v) {\n            ctx.save();\n            ctx.beginPath();\n            ctx.font = '10px 微软雅黑';\n            ctx.textAlign = 'center';\n            ctx.textBaseline = 'middle';\n            ctx.fillText(`${v.x},${v.y}`, v.left, v.top);\n            ctx.closePath();\n            ctx.restore();\n        };\n        map.forEach(function (v, i) {\n            if (v.x === 0) {\n                const target = map[i + colNum - 1];\n                drawLine(v.left, v.top, target.left, target.top);\n            }\n            if (v.y === 0) {\n                const target = map[(colNum * colNum - 1) - (colNum - 1) + v.x];\n                drawLine(v.left, v.top, target.left, target.top);\n            }\n            if (i === Math.floor(map.length / 2)) {\n                drawCircle(v.left, v.top, v.radius / 4, 'black');\n            }\n            // drawCoordinate(v); // 画坐标\n        });\n        // 声音\n        const audioWrap = document.querySelector('.g-audio');\n        const audioSrc = [];\n        for (let i = 0; i < 7; i++) {\n            audioSrc.push(require(`../../../audios/syllable/${i + 1}.mp3`));\n        }\n        let hasSound = audioWrap.classList.contains('g-audio_on');\n        audioWrap.addEventListener('click', function () {\n            hasSound = !hasSound;\n            this.classList.toggle('g-audio_on');\n        });\n        // 落子\n        canvas.addEventListener('click', function (ev) {\n            const clientX = ev.clientX - offset(canvasWrap).left;\n            const clientY = ev.clientY;\n            let nowX = null;\n            let nowY = null;\n            map.forEach(function (v) {\n                if (clientX >= v.left - v.radius && clientX <= v.left + v.radius && clientY >= v.top - v.radius && clientY <= v.top + v.radius) {\n                    // 判断点击范围是否是正确的区域\n                    if (v.type === 'transparent') {\n                        // 音乐\n                        if (hasSound) {\n                            let audioDom = createElement({elementName: 'audio'});\n                            // audioDom.setAttribute('src', audioSrc[(game.blackNum + game.whiteNum) % audioSrc.length]);\n                            audioDom.setAttribute('src', audioSrc[randomNum(0, audioSrc.length - 1)]);\n                            audioDom.play();\n                            audioDom = null;\n                        }\n                        drawCircle(v.left, v.top, v.radius, game.nextColor);\n                        v.type = game.nextColor;\n                        nowX = v.x;\n                        nowY = v.y;\n                        if (game.nextColor === 'black') {\n                            game.blackNum++;\n                            game.nextColor = 'white';\n                        } else {\n                            game.whiteNum++;\n                            game.nextColor = 'black';\n                        }\n                    }\n                }\n            });\n            // 提示信息\n            drawTxt();\n            // 判断输赢\n            const result = ['', '', '', ''];\n            map.forEach(function (v) {\n                let str = '';\n                if (v.type === 'transparent') {\n                    str = 't';\n                }\n                if (v.type === 'black') {\n                    str = 'b';\n                }\n                if (v.type === 'white') {\n                    str = 'w';\n                }\n                if (v.x === nowX) { //  垂直\n                    result[0] += str;\n                }\n                if (v.y === nowY) { //  水平\n                    result[1] += str;\n                }\n                if (v.x + v.y === nowX + nowY) { // 左斜\n                    result[2] += str;\n                }\n                if (v.x - v.y === nowX - nowY) { // 右斜\n                    result[3] += str;\n                }\n            });\n            const victory = [\n                {\n                    k: 'bbbbb',\n                    v: '黑棋获胜',\n                },\n                {\n                    k: 'wwwww',\n                    v: '白棋获胜',\n                },\n            ];\n            result.forEach(function (v1) {\n                victory.forEach(function (v2) {\n                    if (v1.indexOf(v2.k) !== -1) {\n                        setTimeout(function () {\n                            alert(v2.v);\n                            window.location.reload();\n                        }, 60);\n                    }\n                });\n            });\n        });\n        canvasWrap.appendChild(canvas);\n    }\n}\n\nnew Sub();\n\n\n\n// WEBPACK FOOTER //\n// ./app/h5/assets/js/pages/game-wuziqi/index.js","\"use strict\";var _typeof=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&\"function\"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?\"symbol\":typeof o};!function(o,t){\"object\"===(\"undefined\"==typeof exports?\"undefined\":_typeof(exports))&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):(\"object\"!==Object.prototype.toString.call(window.zhf).slice(8,-1).toLowerCase()&&(window.zhf={}),window.zhf.randomNum=t())}(0,function(){return function(o,t){return t||(t=o,o=0),Math.round(Math.random()*(t-o)+o)}});\n\n\n// WEBPACK FOOTER //\n// ./node_modules/zhf.random-num/dist/index.min.js","var map = {\n\t\"./1.mp3\": 31,\n\t\"./2.mp3\": 32,\n\t\"./3.mp3\": 33,\n\t\"./4.mp3\": 34,\n\t\"./5.mp3\": 35,\n\t\"./6.mp3\": 36,\n\t\"./7.mp3\": 37\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 30;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/h5/assets/audios/syllable ^\\.\\/.*\\.mp3$\n// module id = 30\n// module chunks = 3 4","module.exports = __webpack_public_path__ + \"audios/1.38e46759.mp3\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/h5/assets/audios/syllable/1.mp3\n// module id = 31\n// module chunks = 3 4","module.exports = __webpack_public_path__ + \"audios/2.5576c20e.mp3\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/h5/assets/audios/syllable/2.mp3\n// module id = 32\n// module chunks = 3 4","module.exports = __webpack_public_path__ + \"audios/3.25e1d33d.mp3\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/h5/assets/audios/syllable/3.mp3\n// module id = 33\n// module chunks = 3 4","module.exports = __webpack_public_path__ + \"audios/4.220478be.mp3\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/h5/assets/audios/syllable/4.mp3\n// module id = 34\n// module chunks = 3 4","module.exports = __webpack_public_path__ + \"audios/5.ab15dc12.mp3\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/h5/assets/audios/syllable/5.mp3\n// module id = 35\n// module chunks = 3 4","module.exports = __webpack_public_path__ + \"audios/6.44295654.mp3\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/h5/assets/audios/syllable/6.mp3\n// module id = 36\n// module chunks = 3 4","module.exports = __webpack_public_path__ + \"audios/7.c04a5503.mp3\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/h5/assets/audios/syllable/7.mp3\n// module id = 37\n// module chunks = 3 4"],"sourceRoot":""}
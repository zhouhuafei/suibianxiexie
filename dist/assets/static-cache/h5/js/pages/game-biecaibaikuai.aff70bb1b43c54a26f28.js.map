{"version":3,"sources":["webpack:///js/pages/game-biecaibaikuai.aff70bb1b43c54a26f28.js","webpack:///./app/h5/assets/js/pages/game-biecaibaikuai/index.js","webpack:///./node_modules/zhf.random-num/dist/index.min.js","webpack:///./app/h5/assets/audios/syllable ^\\.\\/.*\\.mp3$","webpack:///./app/h5/assets/audios/syllable/1.mp3","webpack:///./app/h5/assets/audios/syllable/2.mp3","webpack:///./app/h5/assets/audios/syllable/3.mp3","webpack:///./app/h5/assets/audios/syllable/4.mp3","webpack:///./app/h5/assets/audios/syllable/5.mp3","webpack:///./app/h5/assets/audios/syllable/6.mp3","webpack:///./app/h5/assets/audios/syllable/7.mp3"],"names":["webpackJsonp","135","module","exports","__webpack_require__","_toConsumableArray","arr","Array","isArray","i","arr2","length","from","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","_createClass","defineProperties","target","props","descriptor","defineProperty","key","protoProps","staticProps","Super","randomNum","createElement","offset","_Super","Sub","this","getPrototypeOf","apply","arguments","randomMap","result","randomRow","colNum","max","randomResult","random","col","indexOf","push","forEach","v","item","w","gap","h","move","requestAnimationFrame","map","ctx","clearRect","row","save","beginPath","fillStyle","rect","step","fill","closePath","restore","hp","setTimeout","alert","score","window","location","reload","drawTxt","index","splice","orientation","canvasWrap","document","querySelector","offsetWidth","documentElement","clientHeight","canvas","elementName","attribute","width","height","appendChild","getContext","bg","font","textAlign","textBaseline","fillText","audioWrap","audioSrc","hasSound","classList","contains","addEventListener","toggle","isPc","ev","preventDefault","stopPropagation","changedTouches","clientX","left","clientY","isClickSuccess","audioDom","setAttribute","play","style","display","136","29","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_RESULT__","_typeof2","Symbol","iterator","obj","_typeof","o","t","undefined","Math","round","30","webpackContext","req","webpackContextResolve","id","Error","./1.mp3","./2.mp3","./3.mp3","./4.mp3","./5.mp3","./6.mp3","./7.mp3","keys","resolve","31","p","32","33","34","35","36","37"],"mappings":"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","file":"js/pages/game-biecaibaikuai.aff70bb1b43c54a26f28.js","sourcesContent":["webpackJsonp([4],{\n\n/***/ 135:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n__webpack_require__(136);\nvar Super = __webpack_require__(3);\nvar randomNum = __webpack_require__(29);\nvar createElement = __webpack_require__(1);\nvar offset = __webpack_require__(21);\n\nvar Sub = function (_Super) {\n    _inherits(Sub, _Super);\n\n    function Sub() {\n        _classCallCheck(this, Sub);\n\n        return _possibleConstructorReturn(this, (Sub.__proto__ || Object.getPrototypeOf(Sub)).apply(this, arguments));\n    }\n\n    _createClass(Sub, [{\n        key: 'power',\n\n        // (功)(覆)功能(覆盖超类型)\n        value: function power() {\n            // 横屏的时候 90 -190 , 横屏的时候 0 180\n            if (window.orientation === 90 || window.orientation === -90) {\n                alert('请竖屏之后，刷新页面进行游戏');\n            }\n            var canvasWrap = document.querySelector('.canvas-wrap');\n            var w = canvasWrap.offsetWidth;\n            var h = document.documentElement.clientHeight;\n            var canvas = createElement({\n                elementName: 'canvas',\n                attribute: {\n                    width: w,\n                    height: h\n                }\n            });\n            canvasWrap.appendChild(canvas);\n            var ctx = canvas.getContext('2d');\n            var col = 4;\n            var row = 4;\n            var gap = 10;\n            var step = 10;\n            var score = 0;\n            var hp = 100;\n            var item = {\n                w: (w - (col - 1) * gap) / col,\n                h: (h - (row - 1) * gap) / row,\n                bg: '#000'\n            };\n            var map = [];\n\n            function randomMap() {\n                var result = [];\n                var max = 10;\n                var randomRow = randomNum(0, max);\n                var colNum = 1;\n                if (randomRow === max) {\n                    // 当随机数等于max的时候,一行3个\n                    colNum = 3;\n                }\n                if (randomRow === max / 2) {\n                    // 当随机数等于max/2的时候,一行2个\n                    colNum = 2;\n                }\n                var randomResult = [];\n                // 随机2个时,这2个不允许被随机到同一个位置\n                var random = randomNum(0, col - 1); // 当前这个在这一行是第几个\n                while (randomResult.indexOf(random) === -1 && randomResult.length < colNum) {\n                    randomResult.push(random);\n                    random = randomNum(0, col - 1); // 当前这个在这一行是第几个\n                }\n                randomResult.forEach(function (v) {\n                    result.push([v * item.w + v * gap, -item.h, item.w, item.h]);\n                });\n                return result;\n            }\n\n            var drawTxt = function drawTxt() {\n                ctx.save();\n                ctx.beginPath();\n                ctx.fillStyle = '#f00';\n                ctx.font = '12px 微软雅黑';\n                ctx.textAlign = 'center';\n                ctx.textBaseline = 'middle';\n                ctx.fillText('\\u79EF\\u5206:' + score + ',\\u751F\\u547D\\u503C:' + hp, w / 2, 20);\n                ctx.closePath();\n                ctx.restore();\n            };\n\n            function move() {\n                requestAnimationFrame(function () {\n                    if (map.length === 0) {\n                        map.push(randomMap());\n                    } else {\n                        if (map[map.length - 1][0][1] >= gap) {\n                            map.push(randomMap());\n                        }\n                    }\n                    ctx.clearRect(0, 0, w, h);\n                    map.forEach(function (row) {\n                        row.forEach(function (v) {\n                            ctx.save();\n                            ctx.beginPath();\n                            ctx.fillStyle = '#000';\n                            ctx.rect.apply(ctx, _toConsumableArray(v));\n                            v[1] += step;\n                            ctx.fill();\n                            ctx.closePath();\n                            ctx.restore();\n                        });\n                    });\n                    if (hp < 0) {\n                        setTimeout(function () {\n                            alert('\\u6E38\\u620F\\u7ED3\\u675F,\\u603B\\u79EF\\u5206' + score);\n                            window.location.reload();\n                        }, 60);\n                        return;\n                    }\n                    drawTxt();\n                    map.forEach(function (row, index) {\n                        if (row[0][1] >= h) {\n                            map.splice(index, 1);\n                            hp--;\n                        }\n                    });\n                    move();\n                });\n            }\n\n            // 声音\n            var audioWrap = document.querySelector('.g-audio');\n            var audioSrc = [];\n            for (var i = 0; i < 7; i++) {\n                audioSrc.push(__webpack_require__(30)(\"./\" + (i + 1) + '.mp3'));\n            }\n            var hasSound = audioWrap.classList.contains('g-audio_on');\n            audioWrap.addEventListener('click', function () {\n                hasSound = !hasSound;\n                this.classList.toggle('g-audio_on');\n            });\n\n            var isPc = document.querySelector('html').classList.contains('g-pc');\n\n            // 踩黑块\n            canvas.addEventListener('' + (isPc ? 'click' : 'touchstart'), function (ev) {\n                ev.preventDefault();\n                ev.stopPropagation();\n                ev = isPc ? ev : ev.changedTouches[0];\n                var clientX = ev.clientX - offset(canvasWrap).left;\n                var clientY = ev.clientY;\n                var isClickSuccess = false;\n                map.forEach(function (row, index) {\n                    row.forEach(function (v, i) {\n                        if (clientX >= v[0] && clientX <= v[0] + item.w && clientY >= v[1] && clientY <= v[1] + item.h) {\n                            row.splice(i, 1);\n                            score++;\n                            // 音乐\n                            if (hasSound) {\n                                var audioDom = createElement({ elementName: 'audio' });\n                                // audioDom.setAttribute('src', audioSrc[score % audioSrc.length]);\n                                audioDom.setAttribute('src', audioSrc[randomNum(0, audioSrc.length - 1)]);\n                                audioDom.play();\n                                audioDom = null;\n                            }\n                            isClickSuccess = true;\n                        }\n                    });\n                    if (row.length === 0) {\n                        map.splice(index, 1);\n                    }\n                });\n                if (!isClickSuccess) {\n                    hp--;\n                    if (hp < 0) {\n                        alert('\\u6E38\\u620F\\u7ED3\\u675F,\\u603B\\u79EF\\u5206' + score);\n                        window.location.reload();\n                    }\n                }\n            });\n\n            // 游戏开始\n            document.querySelector('.game-start').addEventListener('click', function () {\n                this.style.display = 'none';\n                audioWrap.style.display = 'none';\n                move();\n            });\n        }\n    }]);\n\n    return Sub;\n}(Super);\n\nnew Sub();\n\n/***/ }),\n\n/***/ 136:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 29:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;\n\nvar _typeof2 = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _typeof = \"function\" == typeof Symbol && \"symbol\" == _typeof2(Symbol.iterator) ? function (o) {\n  return typeof o === \"undefined\" ? \"undefined\" : _typeof2(o);\n} : function (o) {\n  return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o === \"undefined\" ? \"undefined\" : _typeof2(o);\n};!function (o, t) {\n  \"object\" === ( false ? \"undefined\" : _typeof(exports)) && \"undefined\" != typeof module ? module.exports = t() :  true ? !(__WEBPACK_AMD_DEFINE_FACTORY__ = (t),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) :\n\t\t\t\t__WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)) : (\"object\" !== Object.prototype.toString.call(window.zhf).slice(8, -1).toLowerCase() && (window.zhf = {}), window.zhf.randomNum = t());\n}(0, function () {\n  return function (o, t) {\n    return t || (t = o, o = 0), Math.round(Math.random() * (t - o) + o);\n  };\n});\n\n/***/ }),\n\n/***/ 30:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar map = {\n\t\"./1.mp3\": 31,\n\t\"./2.mp3\": 32,\n\t\"./3.mp3\": 33,\n\t\"./4.mp3\": 34,\n\t\"./5.mp3\": 35,\n\t\"./6.mp3\": 36,\n\t\"./7.mp3\": 37\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 30;\n\n/***/ }),\n\n/***/ 31:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"audios/1.38e46759.mp3\";\n\n/***/ }),\n\n/***/ 32:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"audios/2.5576c20e.mp3\";\n\n/***/ }),\n\n/***/ 33:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"audios/3.25e1d33d.mp3\";\n\n/***/ }),\n\n/***/ 34:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"audios/4.220478be.mp3\";\n\n/***/ }),\n\n/***/ 35:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"audios/5.ab15dc12.mp3\";\n\n/***/ }),\n\n/***/ 36:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"audios/6.44295654.mp3\";\n\n/***/ }),\n\n/***/ 37:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"audios/7.c04a5503.mp3\";\n\n/***/ })\n\n},[135]);\n\n\n// WEBPACK FOOTER //\n// js/pages/game-biecaibaikuai.aff70bb1b43c54a26f28.js","require('../../../scss/pages/game-biecaibaikuai.scss');\r\nconst Super = require('../../pages-super/super');\r\nconst randomNum = require('zhf.random-num');\r\nconst createElement = require('zhf.create-element');\r\nconst offset = require('zhf.offset');\r\n\r\nclass Sub extends Super {\r\n    // (功)(覆)功能(覆盖超类型)\r\n    power() {\r\n        // 横屏的时候 90 -190 , 横屏的时候 0 180\r\n        if (window.orientation === 90 || window.orientation === -90) {\r\n            alert('请竖屏之后，刷新页面进行游戏');\r\n        }\r\n        const canvasWrap = document.querySelector('.canvas-wrap');\r\n        const w = canvasWrap.offsetWidth;\r\n        const h = document.documentElement.clientHeight;\r\n        const canvas = createElement({\r\n            elementName: 'canvas',\r\n            attribute: {\r\n                width: w,\r\n                height: h,\r\n            },\r\n        });\r\n        canvasWrap.appendChild(canvas);\r\n        const ctx = canvas.getContext('2d');\r\n        const col = 4;\r\n        const row = 4;\r\n        const gap = 10;\r\n        const step = 10;\r\n        let score = 0;\r\n        let hp = 100;\r\n        const item = {\r\n            w: (w - (col - 1) * gap) / col,\r\n            h: (h - (row - 1) * gap) / row,\r\n            bg: '#000',\r\n        };\r\n        const map = [];\r\n\r\n        function randomMap() {\r\n            const result = [];\r\n            const max = 10;\r\n            const randomRow = randomNum(0, max);\r\n            let colNum = 1;\r\n            if (randomRow === max) { // 当随机数等于max的时候,一行3个\r\n                colNum = 3;\r\n            }\r\n            if (randomRow === max / 2) { // 当随机数等于max/2的时候,一行2个\r\n                colNum = 2;\r\n            }\r\n            const randomResult = [];\r\n            // 随机2个时,这2个不允许被随机到同一个位置\r\n            let random = randomNum(0, col - 1); // 当前这个在这一行是第几个\r\n            while (randomResult.indexOf(random) === -1 && randomResult.length < colNum) {\r\n                randomResult.push(random);\r\n                random = randomNum(0, col - 1); // 当前这个在这一行是第几个\r\n            }\r\n            randomResult.forEach(function (v) {\r\n                result.push([v * item.w + v * gap, -item.h, item.w, item.h]);\r\n            });\r\n            return result;\r\n        }\r\n\r\n        const drawTxt = function () {\r\n            ctx.save();\r\n            ctx.beginPath();\r\n            ctx.fillStyle = '#f00';\r\n            ctx.font = '12px 微软雅黑';\r\n            ctx.textAlign = 'center';\r\n            ctx.textBaseline = 'middle';\r\n            ctx.fillText(`积分:${score},生命值:${hp}`, w / 2, 20);\r\n            ctx.closePath();\r\n            ctx.restore();\r\n        };\r\n\r\n        function move() {\r\n            requestAnimationFrame(() => {\r\n                if (map.length === 0) {\r\n                    map.push(randomMap());\r\n                } else {\r\n                    if (map[map.length - 1][0][1] >= gap) {\r\n                        map.push(randomMap());\r\n                    }\r\n                }\r\n                ctx.clearRect(0, 0, w, h);\r\n                map.forEach(function (row) {\r\n                    row.forEach(function (v) {\r\n                        ctx.save();\r\n                        ctx.beginPath();\r\n                        ctx.fillStyle = '#000';\r\n                        ctx.rect(...v);\r\n                        v[1] += step;\r\n                        ctx.fill();\r\n                        ctx.closePath();\r\n                        ctx.restore();\r\n                    });\r\n                });\r\n                if (hp < 0) {\r\n                    setTimeout(function () {\r\n                        alert(`游戏结束,总积分${score}`);\r\n                        window.location.reload();\r\n                    }, 60);\r\n                    return;\r\n                }\r\n                drawTxt();\r\n                map.forEach(function (row, index) {\r\n                    if (row[0][1] >= h) {\r\n                        map.splice(index, 1);\r\n                        hp--;\r\n                    }\r\n                });\r\n                move();\r\n            });\r\n        }\r\n\r\n        // 声音\r\n        const audioWrap = document.querySelector('.g-audio');\r\n        const audioSrc = [];\r\n        for (let i = 0; i < 7; i++) {\r\n            audioSrc.push(require(`../../../audios/syllable/${i + 1}.mp3`));\r\n        }\r\n        let hasSound = audioWrap.classList.contains('g-audio_on');\r\n        audioWrap.addEventListener('click', function () {\r\n            hasSound = !hasSound;\r\n            this.classList.toggle('g-audio_on');\r\n        });\r\n\r\n        const isPc = document.querySelector('html').classList.contains('g-pc');\r\n\r\n        // 踩黑块\r\n        canvas.addEventListener(`${isPc ? 'click' : 'touchstart'}`, function (ev) {\r\n            ev.preventDefault();\r\n            ev.stopPropagation();\r\n            ev = isPc ? ev : ev.changedTouches[0];\r\n            const clientX = ev.clientX - offset(canvasWrap).left;\r\n            const clientY = ev.clientY;\r\n            let isClickSuccess = false;\r\n            map.forEach(function (row, index) {\r\n                row.forEach(function (v, i) {\r\n                    if (clientX >= v[0] && clientX <= v[0] + item.w && clientY >= v[1] && clientY <= v[1] + item.h) {\r\n                        row.splice(i, 1);\r\n                        score++;\r\n                        // 音乐\r\n                        if (hasSound) {\r\n                            let audioDom = createElement({elementName: 'audio'});\r\n                            // audioDom.setAttribute('src', audioSrc[score % audioSrc.length]);\r\n                            audioDom.setAttribute('src', audioSrc[randomNum(0, audioSrc.length - 1)]);\r\n                            audioDom.play();\r\n                            audioDom = null;\r\n                        }\r\n                        isClickSuccess = true;\r\n                    }\r\n                });\r\n                if (row.length === 0) {\r\n                    map.splice(index, 1);\r\n                }\r\n            });\r\n            if (!isClickSuccess) {\r\n                hp--;\r\n                if (hp < 0) {\r\n                    alert(`游戏结束,总积分${score}`);\r\n                    window.location.reload();\r\n                }\r\n            }\r\n        });\r\n\r\n        // 游戏开始\r\n        document.querySelector('.game-start').addEventListener('click', function () {\r\n            this.style.display = 'none';\r\n            audioWrap.style.display = 'none';\r\n            move();\r\n        });\r\n    }\r\n}\r\n\r\nnew Sub();\r\n\n\n\n// WEBPACK FOOTER //\n// ./app/h5/assets/js/pages/game-biecaibaikuai/index.js","\"use strict\";var _typeof=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&\"function\"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?\"symbol\":typeof o};!function(o,t){\"object\"===(\"undefined\"==typeof exports?\"undefined\":_typeof(exports))&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):(\"object\"!==Object.prototype.toString.call(window.zhf).slice(8,-1).toLowerCase()&&(window.zhf={}),window.zhf.randomNum=t())}(0,function(){return function(o,t){return t||(t=o,o=0),Math.round(Math.random()*(t-o)+o)}});\n\n\n// WEBPACK FOOTER //\n// ./node_modules/zhf.random-num/dist/index.min.js","var map = {\n\t\"./1.mp3\": 31,\n\t\"./2.mp3\": 32,\n\t\"./3.mp3\": 33,\n\t\"./4.mp3\": 34,\n\t\"./5.mp3\": 35,\n\t\"./6.mp3\": 36,\n\t\"./7.mp3\": 37\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 30;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/h5/assets/audios/syllable ^\\.\\/.*\\.mp3$\n// module id = 30\n// module chunks = 3 4","module.exports = __webpack_public_path__ + \"audios/1.38e46759.mp3\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/h5/assets/audios/syllable/1.mp3\n// module id = 31\n// module chunks = 3 4","module.exports = __webpack_public_path__ + \"audios/2.5576c20e.mp3\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/h5/assets/audios/syllable/2.mp3\n// module id = 32\n// module chunks = 3 4","module.exports = __webpack_public_path__ + \"audios/3.25e1d33d.mp3\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/h5/assets/audios/syllable/3.mp3\n// module id = 33\n// module chunks = 3 4","module.exports = __webpack_public_path__ + \"audios/4.220478be.mp3\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/h5/assets/audios/syllable/4.mp3\n// module id = 34\n// module chunks = 3 4","module.exports = __webpack_public_path__ + \"audios/5.ab15dc12.mp3\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/h5/assets/audios/syllable/5.mp3\n// module id = 35\n// module chunks = 3 4","module.exports = __webpack_public_path__ + \"audios/6.44295654.mp3\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/h5/assets/audios/syllable/6.mp3\n// module id = 36\n// module chunks = 3 4","module.exports = __webpack_public_path__ + \"audios/7.c04a5503.mp3\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/h5/assets/audios/syllable/7.mp3\n// module id = 37\n// module chunks = 3 4"],"sourceRoot":""}
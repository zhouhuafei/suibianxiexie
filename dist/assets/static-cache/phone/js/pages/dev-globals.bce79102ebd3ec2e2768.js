webpackJsonp([9],{134:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n(135);var c=n(3);new(function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),a(t,[{key:"power",value:function(){var e=this,t=e.applications;!function(){new(0,t.SelectAll)({items:".g-checkbox-body-checkbox",callback:{click:function(e){console.log(e)}}})}(),function(){new(n(136))({element:".js-validate-form"}).setValidate("no-999",function(e){return 999!==Number(e)})}(),function(){var e=n(11);document.querySelector(".js-button-dialog").addEventListener("click",function(){new e({callback:{confirm:function(){new e({config:{alert:{icon:"icon-success",content:"已确认"}}})},cancel:function(){new e({config:{alert:{icon:"icon-success",content:"已取消"}}})},close:function(){new e({config:{alert:{icon:"icon-success",content:"已关闭"}}})}},config:{type:"confirm"}})})}()}}]),t}(c))},135:function(e,t){},136:function(e,t,n){"use strict";function i(e){this.opts=o.extend({element:"",hintClass:"g-validate-form-hint",hintWrapClass:"g-form",fileActiveClass:"g-upload-active",isBindEvent:!0},e),this.init()}var o=n(0),r=n(1),a=n(18),c=o.checkStr,s=r.getParent,u=r.getDomArray;i.prototype.init=function(){this.render(),this.opts.isBindEvent&&this.power()},i.prototype.render=function(){var e=this;e.element=u(this.opts.element),e.element.forEach(function(t){if(!t.hintWrapDom){var n=e.getHintWrapDom(t);n&&(a(n,"relative"),t.hintWrapDom=n)}t.hintDom||(t.hintDom=document.createElement("span"),t.hintDom.classList.add(e.opts.hintClass))})},i.prototype.getHintWrapDom=function(e){var t=this.opts.hintWrapClass,n=s(e,"."+t);return n||(n=s(e,".g-validate-form-hint-wrap")),n||(n=e.parentNode),n},i.prototype.renderHintAdd=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.input,n=t.hintDom;if(n){n.innerHTML=e.txt;var i=t.hintWrapDom,o=i.querySelector("."+this.opts.hintClass);i&&!o&&i.appendChild(n)}},i.prototype.renderHintRemove=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.input,n=t.hintWrapDom,i=n.querySelector("."+this.opts.hintClass);n&&i&&n.removeChild(i)},i.prototype.validateInput=function(e){var t=this,n=t.opts;if(0!==e.offsetWidth){var i=e.dataset.validate||"undefined",o=e.dataset.hint||"undefined",r=i.split(" "),a=o.split(" "),s=e.hintWrapDom,u=e.type,l=(e.name,"password"===u),p="radio"===u,d="checkbox"===u,f="file"===u,h=e.value;f&&(h=e.dataset.value);var v=e.customValidateRule||{};Object.keys(v).forEach(function(e){var t=v[e];t.isValidateSuccess=t.fn(h)});var m=!0;r.forEach(function(i,o){if(m&&v[i]&&(m&&v[i].isValidateSuccess?(t.renderHintRemove({input:e}),m=!0):(t.renderHintAdd({txt:a[o],input:e}),m=!1)),m&&!v[i]){if(m&&"no-empty"===i){var r=c.isEmpty(h);if(l&&(r=""===h),p||d){r=null===s.querySelector("input:checked")}r?(t.renderHintAdd({txt:a[o],input:e}),m=!1):(t.renderHintRemove({input:e}),m=!0)}m&&"no-zero"===i&&(c.isZero(h)?(t.renderHintAdd({txt:a[o],input:e}),m=!1):(t.renderHintRemove({input:e}),m=!0)),m&&"yes-positive-integer"===i&&(c.isPositiveInteger(h)?(t.renderHintRemove({input:e}),m=!0):(t.renderHintAdd({txt:a[o],input:e}),m=!1)),m&&"yes-positive-float"===i&&(c.isPositiveFloat(h)?(t.renderHintRemove({input:e}),m=!0):(t.renderHintAdd({txt:a[o],input:e}),m=!1)),m&&"yes-phone"===i&&(c.isPhoneNumEasy(h)?(t.renderHintRemove({input:e}),m=!0):(t.renderHintAdd({txt:a[o],input:e}),m=!1)),m&&"yes-email"===i&&(c.isEmail(h)?(t.renderHintRemove({input:e}),m=!0):(t.renderHintAdd({txt:a[o],input:e}),m=!1)),m&&"yes-url"===i&&(c.isUrl(h)?(t.renderHintRemove({input:e}),m=!0):(t.renderHintAdd({txt:a[o],input:e}),m=!1));var u=/yes-limit-length-(\d+)/.exec(i);if(m&&u){var y=u[1],b=h.length>y;if(d){b=y>=s.querySelectorAll("input:checked").length}if(f){b=y>=s.querySelectorAll("."+n.fileActiveClass).length}b?(t.renderHintRemove({input:e}),m=!0):(t.renderHintAdd({txt:a[o],input:e}),m=!1)}}}),e.isValidateSuccess=m}},i.prototype.isAllPassValidate=function(){var e=this;e.render();var t=!0;return e.element.forEach(function(n){e.validateInput(n),!0!==n.isValidateSuccess&&(t=!1)}),t},i.prototype.power=function(){var e=this,t={};e.element.forEach(function(n){var i=n.dataset.event||"blur",o=i+e.opts.element;t[o]||(t[o]=!0,$(document).on(i,e.opts.element,function(){e.render(),e.validateInput(this)}))})},i.prototype.setValidate=function(e,t){this.element.forEach(function(n){n.customValidateRule||(n.customValidateRule={}),n.customValidateRule[e]={fn:t,isValidateSuccess:!1}})},e.exports=i}},[134]);
//# sourceMappingURL=dev-globals.bce79102ebd3ec2e2768.js.map
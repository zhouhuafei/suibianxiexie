webpackJsonp([8],{138:function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();n(139);var c=n(3);new(function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return r(e,t),s(e,[{key:"power",value:function(){var t=this,e=t.applications;!function(){new(0,e.SelectAll)({items:".g-checkbox-body-checkbox",callback:{click:function(t){console.log(t)}}})}(),function(){new(n(140))({element:".js-validate-form"}).setValidate("no-999",function(t){return 999!==Number(t)})}(),function(){var t=n(29),e=n(13);document.querySelector(".js-button-dialog").addEventListener("click",function(){new t({callback:{confirm:function(){new e({config:{icon:"icon-success",content:"已确认"}})},cancel:function(){new e({config:{icon:"icon-success",content:"已取消"}})},close:function(){new e({config:{icon:"icon-success",content:"已关闭"}})}}})})}()}}]),e}(c))},139:function(t,e){},140:function(t,e,n){"use strict";function i(t){this.opts=o.extend({element:"",hintClass:"g-validate-form-hint",hintWrapClass:"g-form",fileActiveClass:"g-upload_active",isBindEvent:!0},t),this.init()}var o=n(0),r=n(1),s=n(141),c=o.checkStr,a=r.getParent,l=r.getDomArray;i.prototype.init=function(){this.render(),this.opts.isBindEvent&&this.power()},i.prototype.render=function(){var t=this;t.element=l(this.opts.element),t.element.forEach(function(e){if(!e.hintWrapDom){var n=t.getHintWrapDom(e);n&&(s(n,"relative"),e.hintWrapDom=n)}e.hintDom||(e.hintDom=document.createElement("span"),e.hintDom.classList.add(t.opts.hintClass))})},i.prototype.getHintWrapDom=function(t){var e=this.opts.hintWrapClass,n=a(t,"."+e);return n||(n=a(t,".g-validate-form-hint-wrap")),n||(n=t.parentNode),n},i.prototype.renderHintAdd=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.input,n=e.hintDom;if(n){n.innerHTML=t.txt;var i=e.hintWrapDom,o=i.querySelector("."+this.opts.hintClass);i&&!o&&i.appendChild(n)}},i.prototype.renderHintRemove=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.input,n=e.hintWrapDom,i=n.querySelector("."+this.opts.hintClass);n&&i&&n.removeChild(i)},i.prototype.validateInput=function(t){var e=this,n=e.opts;if(0!==t.offsetWidth){var i=t.dataset.validate||"undefined",o=t.dataset.hint||"undefined",r=i.split(" "),s=o.split(" "),a=t.hintWrapDom,l=t.type,d=(t.name,"password"===l),u="radio"===l,f="checkbox"===l,p="file"===l,m=t.value;p&&(m=t.dataset.value);var v=t.customValidateRule||{};Object.keys(v).forEach(function(t){var e=v[t];e.isValidateSuccess=e.fn(m)});var h=!0;r.forEach(function(i,o){if(h&&v[i]&&(h&&v[i].isValidateSuccess?(e.renderHintRemove({input:t}),h=!0):(e.renderHintAdd({txt:s[o],input:t}),h=!1)),h&&!v[i]){if(h&&"no-empty"===i){var r=c.isEmpty(m);if(d&&(r=""===m),u||f){r=null===a.querySelector("input:checked")}r?(e.renderHintAdd({txt:s[o],input:t}),h=!1):(e.renderHintRemove({input:t}),h=!0)}h&&"no-zero"===i&&(c.isZero(m)?(e.renderHintAdd({txt:s[o],input:t}),h=!1):(e.renderHintRemove({input:t}),h=!0)),h&&"yes-positive-integer"===i&&(c.isPositiveInteger(m)?(e.renderHintRemove({input:t}),h=!0):(e.renderHintAdd({txt:s[o],input:t}),h=!1)),h&&"yes-positive-float"===i&&(c.isPositiveFloat(m)?(e.renderHintRemove({input:t}),h=!0):(e.renderHintAdd({txt:s[o],input:t}),h=!1)),h&&"yes-phone"===i&&(c.isPhoneNumEasy(m)?(e.renderHintRemove({input:t}),h=!0):(e.renderHintAdd({txt:s[o],input:t}),h=!1)),h&&"yes-email"===i&&(c.isEmail(m)?(e.renderHintRemove({input:t}),h=!0):(e.renderHintAdd({txt:s[o],input:t}),h=!1)),h&&"yes-url"===i&&(c.isUrl(m)?(e.renderHintRemove({input:t}),h=!0):(e.renderHintAdd({txt:s[o],input:t}),h=!1));var l=/yes-limit-length-(\d+)/.exec(i);if(h&&l){var y=l[1],g=m.length>y;if(f){g=y>=a.querySelectorAll("input:checked").length}if(p){g=y>=a.querySelectorAll("."+n.fileActiveClass).length}g?(e.renderHintRemove({input:t}),h=!0):(e.renderHintAdd({txt:s[o],input:t}),h=!1)}}}),t.isValidateSuccess=h}},i.prototype.isAllPassValidate=function(){var t=this;t.render();var e=!0;return t.element.forEach(function(n){t.validateInput(n),!0!==n.isValidateSuccess&&(e=!1)}),e},i.prototype.power=function(){var t=this,e={};t.element.forEach(function(n){var i=n.dataset.event||"blur",o=i+t.opts.element;e[o]||(e[o]=!0,$(document).on(i,t.opts.element,function(){t.render(),t.validateInput(this)}))})},i.prototype.setValidate=function(t,e){this.element.forEach(function(n){n.customValidateRule||(n.customValidateRule={}),n.customValidateRule[t]={fn:e,isValidateSuccess:!1}})},t.exports=i},141:function(t,e,n){"use strict";function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"relative",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=o(t)[0];i?n?i.style.position=e:new r(i).hasPosition()||(i.style.position=e):console.log("no find dom")}var o=n(6),r=n(142);t.exports=i},142:function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(6),s=function(){function t(e){i(this,t);var n=r(e)[0];n?(this.dom=n,this.init()):console.log("no find dom")}return o(t,[{key:"init",value:function(){this.domHasPosition=!1,this.domPositionType="static";var t=this.dom,e=getComputedStyle(t).position;"static"!==e&&""!==e&&(this.domHasPosition=!0,this.domPositionType=e)}},{key:"hasPosition",value:function(t){return this.init(),void 0===t?this.domHasPosition:this.domPositionType===t}},{key:"getPosition",value:function(){return this.init(),this.domPositionType}},{key:"setPosition",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"relative",e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.dom;e?n.style.position=t:this.hasPosition()||(n.style.position=t)}}]),t}();t.exports=s},29:function(t,e,n){"use strict";var i=n(0),o=n(1),r=n(2),s=i.constructorInherit(r,{wrap:".g-wrap",callback:{confirm:function(){},cancel:function(){},close:function(){}},config:{positionLocation:"center",isShowClose:!0,closeContent:'<div class="iconfont icon-close"></div>',isShowHeader:!0,headerContent:"提示:",isShowBody:!0,isShowIcon:!1,icon:"icon-warning",isCustom:!1,content:"<div>确定要执行这个操作?</div>",isShowFooter:!0,isShowConfirm:!0,confirmContent:"确认",isShowCancel:!0,cancelContent:"取消",isShowMask:!0,isHandHide:!1},data:{}});s.prototype.moduleDomCreate=function(){var t=this.opts.config,e="g-dialog-confirm-wrap_"+t.positionLocation,n=this.renderConfirm();this.moduleDom=o.createElement({style:t.moduleDomStyle,customAttribute:t.moduleDomCustomAttribute,attribute:{className:"g-dialog-confirm-wrap "+e,innerHTML:n}})},s.prototype.renderConfirm=function(){var t=this.opts.config,e="";t.isShowHeader&&(e='<div class="g-dialog-confirm-header">'+t.headerContent+"</div>");var n="";if(t.isShowBody){var i="";t.isShowIcon&&(i='<div class="g-dialog-confirm-body-system-icon iconfont '+t.icon+'"></div>');var o="g-dialog-confirm-body-system",r="\n            "+i+'\n            <div class="g-dialog-confirm-body-system-text">'+t.content+"</div>\n        ";t.isCustom&&(o="g-dialog-confirm-body-custom",r=t.content),n='\n            <div class="g-dialog-confirm-body">\n                <div class="'+o+'">\n                    '+r+"\n                </div>\n            </div>\n        "}var s="";if(t.isShowFooter){var c="";t.isShowCancel&&(c='<div class="g-button g-button-cancel g-dialog-confirm-footer-cancel">'+t.cancelContent+"</div>");var a="";t.isShowConfirm&&(a='<div class="g-button g-dialog-confirm-footer-confirm">'+t.confirmContent+"</div>"),s='<div class="g-dialog-confirm-footer">'+c+a+"</div>"}var l="";t.isShowClose&&(l='<div class="g-dialog-confirm-close">'+t.closeContent+"</div>");var d="";return t.isShowMask&&(d='<div class="g-mask"></div>'),"\n        "+d+'\n        <div class="g-dialog-confirm">\n            '+e+"\n            "+n+"\n            "+s+"\n            "+l+" \n        </div>\n    "},s.prototype.power=function(){var t=this,e=this.opts.config,n=this.opts.callback,i=this.moduleDom.querySelector(".g-dialog-confirm-close");i&&i.addEventListener("click",function(){t.moduleDomHide(),n.close()});var o=this.moduleDom.querySelector(".g-dialog-confirm-footer-cancel");o&&o.addEventListener("click",function(){t.moduleDomHide(),n.cancel()});var r=this.moduleDom.querySelector(".g-dialog-confirm-footer-confirm");r&&r.addEventListener("click",function(){e.isHandHide||t.moduleDomHide(),n.confirm()})},t.exports=s}},[138]);
//# sourceMappingURL=dev-globals.538a993d9de18e046e8e.js.map
{"version":3,"sources":["webpack:///js/pages/home.55aab00f38e392a7a716.js","webpack:///./app/admin/assets/js/api/ajax.js","webpack:///./app/admin/assets/js/pages/home.js"],"names":["webpackJsonp","115","module","exports","__webpack_require__","tools","Dialog","json","method","type","dataType","opts","extend","isHandleError","isHandleFailure","timeout","toLowerCase","data","params","Object","keys","forEach","obj","prototype","toString","call","slice","JSON","stringify","v","i","a","typeOf","processData","contentType","$","ajax","catch","xhr","mark","message","dataInfo","status","config","alert","content","then","43","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","_createClass","defineProperties","target","props","length","descriptor","defineProperty","key","protoProps","staticProps","Super","_Super","Sub","this","getPrototypeOf","apply","arguments","superSelf","routes","ValidateInput","validateInput","element","setValidate","Number","isAllPassValidate","console","log","document","querySelector","addEventListener","axios","url","api","list","route","test","b","arr","arr2","44"],"mappings":"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","file":"js/pages/home.55aab00f38e392a7a716.js","sourcesContent":["webpackJsonp([2],{\n\n/***/ 115:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar tools = __webpack_require__(1);\nvar Dialog = __webpack_require__(12);\n\nmodule.exports = function (json) {\n    json.method = json.type || json.method || 'get'; // 这里和axios是不一样的，这里以前使用axios的习惯传入method\n    json.dataType = json.dataType || 'json'; // 设置返回json格式的数据，axios默认就是返回json格式的\n    var opts = tools.extend({\n        method: 'get', // 请求方式默认get\n        isHandleError: true, // 是否处理错误\n        isHandleFailure: true, // 是否处理失败\n        timeout: 8000 // 超时\n    }, json);\n    /*\n    * javascript axios get params\n    * javascript axios post/put/delete data\n    * 把上述四种数据的传参方式进行统一化,统一使用data\n    * nodejs express get req.query\n    * nodejs express post/put/delete body-parser req.body\n    * 把上述四种数据的传参方式进行统一化,统一使用req.data\n    * */\n    if (opts.method.toLowerCase() === 'get') {\n        opts.data = opts.data || opts.params || {}; // 这里和axios是不一样的，这里以前使用axios的习惯传入params\n        if (opts.data) {\n            // 把json格式的对象处理成json格式的字符串，让get请求保持和axios一致的数据格式\n            // 其实按理来说应该让axios保持与这边的一致，但是axios的get请求没有提供对外的接口，所以只能让这个保持和axios一致。\n            // $.ajax的post,put,delete接收的全是字符串，即使你传的是对象，对象里有布尔值等，接收过来也会变成字符串，$.ajax的get处理之后，你传的对象里有布尔值，后端接收之后，布尔值还是布尔值，应该和post保持一致的。奈何axios的get没提供对外接口\n            Object.keys(opts.data).forEach(function (keys) {\n                var obj = opts.data[keys];\n                var type = Object.prototype.toString.call(obj).slice(8, -1).toLowerCase();\n                if (type === 'object') {\n                    opts.data[keys] = JSON.stringify(obj);\n                }\n                if (type === 'array') {\n                    obj.forEach(function (v, i, a) {\n                        if (Object.prototype.toString.call(v).slice(8, -1).toLowerCase() === 'object') {\n                            a[i] = JSON.stringify(v);\n                        }\n                    });\n                }\n            });\n        }\n    }\n    if (tools.typeOf(opts.data) === 'formdata') {\n        // formdata类型需要关闭下面,否则会报错\n        opts.processData = false;\n        opts.contentType = false;\n    }\n    return $.ajax(opts).catch(function (xhr, mark, message) {\n        var dataInfo = {\n            status: 'error',\n            message: message\n        };\n        if (opts.isHandleError) {\n            new Dialog({\n                config: {\n                    alert: {\n                        content: '\\u9519\\u8BEF: ' + message // 这里的message就是error信息，只是一段普通的字符信息\n                    }\n                }\n            });\n        }\n        return dataInfo;\n    }).then(function (dataInfo, mark, xhr) {\n        if (dataInfo.status === 'failure' && opts.isHandleFailure) {\n            new Dialog({\n                config: {\n                    alert: {\n                        content: '\\u5931\\u8D25: ' + dataInfo.message\n                    }\n                }\n            });\n        }\n        return dataInfo;\n    });\n};\n\n/***/ }),\n\n/***/ 43:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n__webpack_require__(44);\nvar Super = __webpack_require__(9);\n\nvar Sub = function (_Super) {\n    _inherits(Sub, _Super);\n\n    function Sub() {\n        _classCallCheck(this, Sub);\n\n        return _possibleConstructorReturn(this, (Sub.__proto__ || Object.getPrototypeOf(Sub)).apply(this, arguments));\n    }\n\n    _createClass(Sub, [{\n        key: 'power',\n\n        // (功)(覆)功能(覆盖超类型)\n        value: function power() {\n            var superSelf = this;\n            var dataInfo = superSelf.dataInfo;\n            var routes = dataInfo.routes;\n\n            // 验证\n            (function () {\n                var ValidateInput = __webpack_require__(11);\n                var validateInput = new ValidateInput({ element: '.js-validate-form' });\n                validateInput.setValidate('no-999', function (value) {\n                    return Number(value) !== 999;\n                });\n                var isAllPassValidate = validateInput.isAllPassValidate();\n                console.log('isAllPassValidate', isAllPassValidate);\n\n                document.querySelector('.js-upload-input').addEventListener('change', function () {\n                    validateInput.validateInput(this);\n                });\n            })();\n\n            // 测试application/x-www-form-urlencoded\n            var axios = __webpack_require__(18);\n            var ajax = __webpack_require__(115);\n            axios({\n                url: dataInfo.api.list.route,\n                method: 'post',\n                data: { type: 'axios', obj: { test: true, key: 'obj', b: { a: 1 } }, arr: ['a', 2, 'c', { a: 1 }], arr2: [] }\n            }).then(function (json) {\n                console.log('axios测试application/x-www-form-urlencoded测试axios:->', json);\n            });\n            ajax({\n                url: dataInfo.api.list.route,\n                method: 'post',\n                data: { type: 'ajax', obj: { test: false, key: 'obj', b: { a: 1 } }, arr: ['a', 2, 'c', { a: 1 }], arr2: [] }\n            }).then(function (json) {\n                console.log('ajax测试application/x-www-form-urlencoded测试ajax:->', json);\n            });\n            // 测试multipart/form-data\n            /*\n            const formData = new FormData();\n            formData.append('test', 'test');\n            axios({\n                url: dataInfo.api.list.route,\n                method: 'post',\n                data: formData,\n            }).then(function (json) {\n                console.log('axios测试multipart/form-data测试axios:->', json);\n            });\n            ajax({\n                url: dataInfo.api.list.route,\n                method: 'post',\n                data: formData,\n            }).then(function (json) {\n                console.log('ajax测试multipart/form-data测试ajax:->', json);\n            });\n            */\n        }\n    }]);\n\n    return Sub;\n}(Super);\n\nnew Sub();\n\n/***/ }),\n\n/***/ 44:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ })\n\n},[43]);\n\n\n// WEBPACK FOOTER //\n// js/pages/home.55aab00f38e392a7a716.js","const tools = require('zhf.tools');\nconst Dialog = require('../components-dom/g-dialog');\n\nmodule.exports = function (json) {\n    json.method = json.type || json.method || 'get'; // 这里和axios是不一样的，这里以前使用axios的习惯传入method\n    json.dataType = json.dataType || 'json'; // 设置返回json格式的数据，axios默认就是返回json格式的\n    const opts = tools.extend({\n        method: 'get', // 请求方式默认get\n        isHandleError: true, // 是否处理错误\n        isHandleFailure: true, // 是否处理失败\n        timeout: 8000, // 超时\n    }, json);\n    /*\n    * javascript axios get params\n    * javascript axios post/put/delete data\n    * 把上述四种数据的传参方式进行统一化,统一使用data\n    * nodejs express get req.query\n    * nodejs express post/put/delete body-parser req.body\n    * 把上述四种数据的传参方式进行统一化,统一使用req.data\n    * */\n    if (opts.method.toLowerCase() === 'get') {\n        opts.data = opts.data || opts.params || {}; // 这里和axios是不一样的，这里以前使用axios的习惯传入params\n        if (opts.data) {\n            // 把json格式的对象处理成json格式的字符串，让get请求保持和axios一致的数据格式\n            // 其实按理来说应该让axios保持与这边的一致，但是axios的get请求没有提供对外的接口，所以只能让这个保持和axios一致。\n            // $.ajax的post,put,delete接收的全是字符串，即使你传的是对象，对象里有布尔值等，接收过来也会变成字符串，$.ajax的get处理之后，你传的对象里有布尔值，后端接收之后，布尔值还是布尔值，应该和post保持一致的。奈何axios的get没提供对外接口\n            Object.keys(opts.data).forEach(function (keys) {\n                const obj = opts.data[keys];\n                const type = Object.prototype.toString.call(obj).slice(8, -1).toLowerCase();\n                if (type === 'object') {\n                    opts.data[keys] = JSON.stringify(obj);\n                }\n                if (type === 'array') {\n                    obj.forEach(function (v, i, a) {\n                        if (Object.prototype.toString.call(v).slice(8, -1).toLowerCase() === 'object') {\n                            a[i] = JSON.stringify(v);\n                        }\n                    });\n                }\n            });\n        }\n    }\n    if (tools.typeOf(opts.data) === 'formdata') { // formdata类型需要关闭下面,否则会报错\n        opts.processData = false;\n        opts.contentType = false;\n    }\n    return $.ajax(opts).catch(function (xhr, mark, message) {\n        const dataInfo = {\n            status: 'error',\n            message: message,\n        };\n        if (opts.isHandleError) {\n            new Dialog({\n                config: {\n                    alert: {\n                        content: `错误: ${message}`, // 这里的message就是error信息，只是一段普通的字符信息\n                    },\n                },\n            });\n        }\n        return dataInfo;\n    }).then(function (dataInfo, mark, xhr) {\n        if (dataInfo.status === 'failure' && opts.isHandleFailure) {\n            new Dialog({\n                config: {\n                    alert: {\n                        content: `失败: ${dataInfo.message}`,\n                    },\n                },\n            });\n        }\n        return dataInfo;\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./app/admin/assets/js/api/ajax.js","require('../../scss/pages/home.scss');\nconst Super = require('../pages-super/super');\n\nclass Sub extends Super {\n    // (功)(覆)功能(覆盖超类型)\n    power() {\n        const superSelf = this;\n        const dataInfo = superSelf.dataInfo;\n        const routes = dataInfo.routes;\n\n        // 验证\n        (function () {\n            const ValidateInput = require('../components-dom/g-validate-form-hint');\n            const validateInput = new ValidateInput({element: '.js-validate-form'});\n            validateInput.setValidate('no-999', function (value) {\n                return Number(value) !== 999;\n            });\n            const isAllPassValidate = validateInput.isAllPassValidate();\n            console.log('isAllPassValidate', isAllPassValidate);\n\n            document.querySelector('.js-upload-input').addEventListener('change', function () {\n                validateInput.validateInput(this);\n            });\n        }());\n\n        // 测试application/x-www-form-urlencoded\n        const axios = require('../api/axios');\n        const ajax = require('../api/ajax');\n        axios({\n            url: dataInfo.api.list.route,\n            method: 'post',\n            data: {type: 'axios', obj: {test: true, key: 'obj', b: {a: 1}}, arr: ['a', 2, 'c', {a: 1}], arr2: []},\n        }).then(function (json) {\n            console.log('axios测试application/x-www-form-urlencoded测试axios:->', json);\n        });\n        ajax({\n            url: dataInfo.api.list.route,\n            method: 'post',\n            data: {type: 'ajax', obj: {test: false, key: 'obj', b: {a: 1}}, arr: ['a', 2, 'c', {a: 1}], arr2: []},\n        }).then(function (json) {\n            console.log('ajax测试application/x-www-form-urlencoded测试ajax:->', json);\n        });\n        // 测试multipart/form-data\n        /*\n        const formData = new FormData();\n        formData.append('test', 'test');\n        axios({\n            url: dataInfo.api.list.route,\n            method: 'post',\n            data: formData,\n        }).then(function (json) {\n            console.log('axios测试multipart/form-data测试axios:->', json);\n        });\n        ajax({\n            url: dataInfo.api.list.route,\n            method: 'post',\n            data: formData,\n        }).then(function (json) {\n            console.log('ajax测试multipart/form-data测试ajax:->', json);\n        });\n        */\n    }\n}\n\nnew Sub();\n\n\n\n// WEBPACK FOOTER //\n// ./app/admin/assets/js/pages/home.js"],"sourceRoot":""}
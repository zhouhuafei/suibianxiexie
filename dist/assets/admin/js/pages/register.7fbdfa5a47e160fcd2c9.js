webpackJsonp([3],{112:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();n(21);var s=n(11);new(function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),a(t,[{key:"power",value:function(){var e=this,t=e.dataInfo,o=t.routes,i=(t.api,e.axios);!function(){new(n(9))({element:".page-validate-form"})}(),function(){var e=document.querySelector("#form");document.querySelector("#username"),document.querySelector("#password"),document.querySelector("#repeat-password");document.querySelector(".js-button").addEventListener("click",function(){i({url:e.action,method:e.method,data:$(e).serialize()}).then(function(e){"success"===e.status&&(window.location.href=o.login.route)})})}()}}]),t}(s))},21:function(e,t){},9:function(e,t,n){"use strict";function o(e){this.opts=i.extend({element:"",hintClass:"g-validate-form-hint"},e),this.opts.element&&(this.element=r.getDomArray(this.opts.element)),this.element.length&&this.init()}var i=n(0),r=n(2),a=n(10),s=i.checkStr;o.prototype.init=function(){this.render(),this.power()},o.prototype.render=function(){var e=this;e.element.forEach(function(t){t.parentNode&&a(t.parentNode,"relative"),t.customValidateRule={},t.hintDom=document.createElement("span"),t.hintDom.classList.add(e.opts.hintClass)})},o.prototype.renderHintAdd=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.input,n=t.hintDom;t.offsetWidth&&n&&(n.innerHTML=e.txt,t.parentNode.appendChild(n))},o.prototype.renderHintRemove=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.input,n=t.parentNode,o=t.parentNode.querySelector("."+this.opts.hintClass);n&&o&&n.removeChild(t.hintDom)},o.prototype.validateInput=function(e){var t=this,n=e.customValidateRule;Object.keys(n).forEach(function(t){var o=n[t];o.isValidateSuccess=o.fn(e.value)});var o=e.dataset.validate||"undefined",i=e.dataset.hint||"undefined",r=o.split(" "),a=i.split(" "),u=e.value,c=e.type,p="password"===c,l=!0;r.forEach(function(o,i){if(l&&n[o]&&(l&&n[o].isValidateSuccess?(t.renderHintRemove({input:e}),l=!0):(t.renderHintAdd({txt:a[i],input:e}),l=!1)),l&&!n[o]){if(l&&"no-empty"===o){var r=s.isEmpty(u);p&&(r=""===u),r?(t.renderHintAdd({txt:a[i],input:e}),l=!1):(t.renderHintRemove({input:e}),l=!0)}l&&"no-zero"===o&&(s.isZero(u)?(t.renderHintAdd({txt:a[i],input:e}),l=!1):(t.renderHintRemove({input:e}),l=!0)),l&&"yes-positive-integer"===o&&(s.isPositiveInteger(u)?(t.renderHintRemove({input:e}),l=!0):(t.renderHintAdd({txt:a[i],input:e}),l=!1))}}),e.isValidateSuccess=l},o.prototype.isAllPassValidate=function(){var e=this,t=!0;return e.element.forEach(function(n){e.validateInput(n),!0!==n.isValidateSuccess&&(t=!1)}),t},o.prototype.power=function(){var e=this;e.element.forEach(function(t){var n=t.dataset.event||"blur";t.addEventListener(n,function(){e.validateInput(this)})})},o.prototype.setValidate=function(e,t){this.element.forEach(function(n){n.customValidateRule[e]={fn:t,isValidateSuccess:t(n.value)}})},e.exports=o}},[112]);
//# sourceMappingURL=register.7fbdfa5a47e160fcd2c9.js.map
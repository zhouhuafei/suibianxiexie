webpackJsonp([4],{20:function(e,t){},7:function(e,t,n){"use strict";function i(e){this.opts=o.extend({element:"",hintClass:"g-validate-form-hint"},e),this.opts.element&&(this.element=r.getDomArray(this.opts.element)),this.element.length&&this.init()}var o=n(0),r=n(2),a=n(8),s=o.checkStr;i.prototype.init=function(){this.render(),this.power()},i.prototype.render=function(){var e=this;e.element.forEach(function(t){t.parentNode&&a(t.parentNode,"relative"),t.customValidateRule={},t.hintDom=document.createElement("span"),t.hintDom.classList.add(e.opts.hintClass)})},i.prototype.renderHintAdd=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.input,n=t.hintDom;t.offsetWidth&&n&&(n.innerHTML=e.txt,t.parentNode.appendChild(n))},i.prototype.renderHintRemove=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.input,n=t.parentNode,i=t.parentNode.querySelector("."+this.opts.hintClass);n&&i&&n.removeChild(t.hintDom)},i.prototype.validateInput=function(e){var t=this,n=e.customValidateRule;Object.keys(n).forEach(function(t){var i=n[t];i.isValidateSuccess=i.fn(e.value)});var i=e.dataset.validate||"undefined",o=e.dataset.hint||"undefined",r=i.split(" "),a=o.split(" "),u=e.value,c=e.type,d="password"===c,l=!0;r.forEach(function(i,o){if(l&&n[i]&&(l&&n[i].isValidateSuccess?(t.renderHintRemove({input:e}),l=!0):(t.renderHintAdd({txt:a[o],input:e}),l=!1)),l&&!n[i]){if(l&&"no-empty"===i){var r=s.isEmpty(u);d&&(r=""===u),r?(t.renderHintAdd({txt:a[o],input:e}),l=!1):(t.renderHintRemove({input:e}),l=!0)}l&&"no-zero"===i&&(s.isZero(u)?(t.renderHintAdd({txt:a[o],input:e}),l=!1):(t.renderHintRemove({input:e}),l=!0)),l&&"yes-positive-integer"===i&&(s.isPositiveInteger(u)?(t.renderHintRemove({input:e}),l=!0):(t.renderHintAdd({txt:a[o],input:e}),l=!1))}}),e.isValidateSuccess=l},i.prototype.isAllPassValidate=function(){var e=this,t=!0;return e.element.forEach(function(n){e.validateInput(n),!0!==n.isValidateSuccess&&(t=!1)}),t},i.prototype.power=function(){var e=this;e.element.forEach(function(t){var n=t.dataset.event||"blur";t.addEventListener(n,function(){e.validateInput(this)})})},i.prototype.setValidate=function(e,t){this.element.forEach(function(n){n.customValidateRule[e]={fn:t,isValidateSuccess:t(n.value)}})},e.exports=i},99:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n(20);var s=n(9);new(function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),a(t,[{key:"power",value:function(){var e=this,t=e.dataInfo,i=t.routes,o=(t.api,e.axios);!function(){new(n(7))({element:".page-validate-form"})}(),function(){var e=document.querySelector("#form");document.querySelector("#username"),document.querySelector("#old-password"),document.querySelector("#new-password"),document.querySelector("#repeat-new-password");document.querySelector(".js-button").addEventListener("click",function(){o({url:e.action,method:e.method,data:$(e).serialize()}).then(function(e){"success"===e.status&&(window.location.href=i.login.route)})})}(),document.querySelector(".js-del-db").addEventListener("click",function(){new e.Dialog({config:{type:"confirm",confirm:{content:'<div class="page-dialog-del-db">\n                            <div>1. 链接你的mongodb数据库。</div>\n                            <div>2. 找到名为suibianxiexie的数据库。</div>\n                            <div>3. 找到名为admins的集合。</div>\n                            <div>4. 删除名为admins的集合。</div>\n                            <div>5. 在后台管理系统里重新注册管理员账号。</div>\n                        </div>'}}})})}}]),t}(s))}},[99]);
//# sourceMappingURL=password-modify.153787724bd5a80a001c.js.map
webpackJsonp([14],{93:function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}();n(94);var l=n(3);new(function(t){function e(){return o(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),i(e,[{key:"power",value:function(){90!==window.orientation&&-90!==window.orientation||alert("请竖屏之后，刷新页面进行游戏");for(var t=this.applications,e=document.querySelector(".canvas-wrap"),n=e.offsetWidth,o=document.documentElement.clientHeight,r={nextColor:"black",blackNum:0,whiteNum:0},a=(n-41)/14,i=(o-n)/2+20.5,l=[],c=0;c<Math.pow(15,2);c++){var f=c%15,u=Math.floor(c/15);l.push({x:f,y:u,left:f*a+20.5,top:u*a+i,radius:a/2.4,type:"transparent"})}var s=t.createElement({elementName:"canvas",attribute:{width:n,height:o}}),p=s.getContext("2d"),h=function(t,e,n,o){p.save(),p.beginPath(),p.strokeStyle="#000",p.moveTo(t,e),p.lineTo(n,o),p.stroke(),p.closePath(),p.restore()},b=function(t,e,n,o){p.save(),p.beginPath(),p.fillStyle=o,p.arc(t,e,n,0,2*Math.PI,!1),p.fill(),p.closePath(),p.restore()},w=function(){p.save(),p.beginPath(),p.clearRect(0,0,n,i/1.4),p.font="16px 微软雅黑",p.textAlign="center",p.textBaseline="middle",p.fillText("请"+("black"===r.nextColor?"黑色":"白色")+"棋子落子",n/2,i/2),p.closePath(),p.restore()};w();l.forEach(function(t,e){if(0===t.x){var n=l[e+15-1];h(t.left,t.top,n.left,n.top)}if(0===t.y){var o=l[210+t.x];h(t.left,t.top,o.left,o.top)}e===Math.floor(l.length/2)&&b(t.left,t.top,t.radius/4,"black")}),s.addEventListener("click",function(n){var o=n.clientX-t.offset(e).left,a=n.clientY,i=null,c=null;l.forEach(function(t){o>=t.left-t.radius&&o<=t.left+t.radius&&a>=t.top-t.radius&&a<=t.top+t.radius&&"transparent"===t.type&&(b(t.left,t.top,t.radius,r.nextColor),t.type=r.nextColor,i=t.x,c=t.y,"black"===r.nextColor?(r.blackNum++,r.nextColor="white"):(r.whiteNum++,r.nextColor="black"))}),w();var f=["","","",""];l.forEach(function(t){var e="";"transparent"===t.type&&(e="t"),"black"===t.type&&(e="b"),"white"===t.type&&(e="w"),t.x===i&&(f[0]+=e),t.y===c&&(f[1]+=e),t.x+t.y===i+c&&(f[2]+=e),t.x-t.y==i-c&&(f[3]+=e)}),f.forEach(function(t){t.length>=5&&(-1!==t.indexOf("bbbbb")&&setTimeout(function(){alert("黑棋获胜"),window.location.reload()},60),-1!==t.indexOf("wwwww")&&setTimeout(function(){alert("白棋获胜"),window.location.reload()},60))})}),e.appendChild(s)}}]),e}(l))},94:function(t,e){}},[93]);
//# sourceMappingURL=game-wuziqi.93e95e3692d2f0e9ffa1.js.map
{"version":3,"sources":["webpack:///js/pages/game-biecaibaikuai.c621ce8664492cb35654.js","webpack:///./app/phone/assets/js/pages/game-biecaibaikuai.js","webpack:///./app/phone/assets/audios/syllable ^\\.\\/.*\\.mp3$","webpack:///./app/phone/assets/audios/syllable/1.mp3","webpack:///./app/phone/assets/audios/syllable/2.mp3","webpack:///./app/phone/assets/audios/syllable/3.mp3","webpack:///./app/phone/assets/audios/syllable/4.mp3","webpack:///./app/phone/assets/audios/syllable/5.mp3","webpack:///./app/phone/assets/audios/syllable/6.mp3","webpack:///./app/phone/assets/audios/syllable/7.mp3"],"names":["webpackJsonp","139","module","exports","__webpack_require__","_toConsumableArray","arr","Array","isArray","i","arr2","length","from","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","_createClass","defineProperties","target","props","descriptor","defineProperty","key","protoProps","staticProps","Super","_Super","Sub","this","getPrototypeOf","apply","arguments","randomMap","result","randomRow","tools","randomNum","colNum","max","randomResult","random","col","indexOf","push","forEach","v","item","w","gap","h","move","requestAnimationFrame","map","ctx","clearRect","row","save","beginPath","fillStyle","rect","step","fill","closePath","restore","hp","setTimeout","alert","score","window","location","reload","drawTxt","index","splice","orientation","applications","canvasWrap","document","querySelector","offsetWidth","documentElement","clientHeight","canvas","createElement","elementName","attribute","width","height","appendChild","getContext","bg","font","textAlign","textBaseline","fillText","audioWrap","audioSrc","hasSound","classList","contains","addEventListener","toggle","isPc","ev","preventDefault","stopPropagation","changedTouches","clientX","offset","left","clientY","isClickSuccess","audioDom","setAttribute","play","style","display","140","29","webpackContext","req","webpackContextResolve","id","Error","./1.mp3","./2.mp3","./3.mp3","./4.mp3","./5.mp3","./6.mp3","./7.mp3","keys","resolve","30","p","31","32","33","34","35","36"],"mappings":"AAAAA,cAAc,IAERC,IACA,SAAUC,EAAQC,EAASC,GAEjC,YAKA,SAASC,GAAmBC,GAAO,GAAIC,MAAMC,QAAQF,GAAM,CAAE,IAAK,GAAIG,GAAI,EAAGC,EAAOH,MAAMD,EAAIK,QAASF,EAAIH,EAAIK,OAAQF,IAAOC,EAAKD,GAAKH,EAAIG,EAAM,OAAOC,GAAe,MAAOH,OAAMK,KAAKN,GAE1L,QAASO,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,GAA2BC,EAAMC,GAAQ,IAAKD,EAAQ,KAAM,IAAIE,gBAAe,4DAAgE,QAAOD,GAAyB,gBAATA,IAAqC,kBAATA,GAA8BD,EAAPC,EAElO,QAASE,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAIP,WAAU,iEAAoEO,GAAeD,GAASE,UAAYC,OAAOC,OAAOH,GAAcA,EAAWC,WAAaG,aAAeC,MAAON,EAAUO,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeR,IAAYE,OAAOO,eAAiBP,OAAOO,eAAeV,EAAUC,GAAcD,EAASW,UAAYV,GARje,GAAIW,GAAe,WAAc,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAI5B,GAAI,EAAGA,EAAI4B,EAAM1B,OAAQF,IAAK,CAAE,GAAI6B,GAAaD,EAAM5B,EAAI6B,GAAWT,WAAaS,EAAWT,aAAc,EAAOS,EAAWP,cAAe,EAAU,SAAWO,KAAYA,EAAWR,UAAW,GAAML,OAAOc,eAAeH,EAAQE,EAAWE,IAAKF,IAAiB,MAAO,UAAUvB,EAAa0B,EAAYC,GAAiJ,MAA9HD,IAAYN,EAAiBpB,EAAYS,UAAWiB,GAAiBC,GAAaP,EAAiBpB,EAAa2B,GAAqB3B,KCRhiBX,GAAQ,IACR,IAAMuC,GAAQvC,EAAQ,EA4KtB,KDxJU,SAAUwC,GAGhB,QAASC,KAGL,MAFAhC,GAAgBiC,KAAMD,GAEf5B,EAA2B6B,MAAOD,EAAIZ,WAAaR,OAAOsB,eAAeF,IAAMG,MAAMF,KAAMG,YAiLtG,MAtLA5B,GAAUwB,EAAKD,GAQfV,EAAaW,IACTL,IAAK,QAGLZ,MAAO,WCGP,QAASsB,KACL,GAAMC,MAEAC,EAAYC,EAAMC,UAAU,EADtB,IAERC,EAAS,CAFD,MAGRH,IACAG,EAAS,GAEKC,IAAdJ,IACAG,EAAS,EAKb,KAHA,GAAME,MAEFC,EAASL,EAAMC,UAAU,EAAGK,EAAM,IACG,IAAlCF,EAAaG,QAAQF,IAAkBD,EAAa9C,OAAS4C,GAChEE,EAAaI,KAAKH,GAClBA,EAASL,EAAMC,UAAU,EAAGK,EAAM,EAKtC,OAHAF,GAAaK,QAAQ,SAAUC,GAC3BZ,EAAOU,MAAME,EAAIC,EAAKC,EAAIF,EAAIG,GAAMF,EAAKG,EAAGH,EAAKC,EAAGD,EAAKG,MAEtDhB,EAeX,QAASiB,KACLC,sBAAsB,WAqBlB,GApBmB,IAAfC,EAAI3D,OACJ2D,EAAIT,KAAKX,KAELoB,EAAIA,EAAI3D,OAAS,GAAG,GAAG,IAAMuD,GAC7BI,EAAIT,KAAKX,KAGjBqB,EAAIC,UAAU,EAAG,EAAGP,EAAGE,GACvBG,EAAIR,QAAQ,SAAUW,GAClBA,EAAIX,QAAQ,SAAUC,GAClBQ,EAAIG,OACJH,EAAII,YACJJ,EAAIK,UAAY,OAChBL,EAAIM,KAAJ7B,MAAAuB,EAAAlE,EAAY0D,IACZA,EAAE,IAAMe,EACRP,EAAIQ,OACJR,EAAIS,YACJT,EAAIU,cAGRC,EAAK,EAKL,WAJAC,YAAW,WACPC,iBAAiBC,GACjBC,OAAOC,SAASC,UACjB,GAGPC,KACAnB,EAAIR,QAAQ,SAAUW,EAAKiB,GACnBjB,EAAI,GAAG,IAAMN,IACbG,EAAIqB,OAAOD,EAAO,GAClBR,OAGRd,MAtGmB,KAAvBkB,OAAOM,cAA8C,KAAxBN,OAAOM,aACpCR,MAAM,iBAEV,IAAM/B,GAAQP,KAAKO,MACbwC,EAAe/C,KAAK+C,aACpBC,EAAaC,SAASC,cAAc,gBACpC/B,EAAI6B,EAAWG,YACf9B,EAAI4B,SAASG,gBAAgBC,aAC7BC,EAASP,EAAaQ,eACxBC,YAAa,SACbC,WACIC,MAAOvC,EACPwC,OAAQtC,IAGhB2B,GAAWY,YAAYN,EA8FvB,KAAK,GA7FC7B,GAAM6B,EAAOO,WAAW,MACxBhD,EAAM,EAENO,EAAM,GACNY,EAAO,GACTO,EAAQ,EACRH,EAAK,IACHlB,GACFC,GAAIA,GAAKN,EAAM,GAAKO,GAAOP,EAC3BQ,GAAIA,EAAI,EAAYD,GAPZ,EAQR0C,GAAI,QAEFtC,KA0BAmB,EAAU,WACZlB,EAAIG,OACJH,EAAII,YACJJ,EAAIK,UAAY,OAChBL,EAAIsC,KAAO,YACXtC,EAAIuC,UAAY,SAChBvC,EAAIwC,aAAe,SACnBxC,EAAIyC,SAAJ,MAAmB3B,EAAnB,QAAgCH,EAAMjB,EAAI,EAAG,IAC7CM,EAAIS,YACJT,EAAIU,WA4CFgC,EAAYlB,SAASC,cAAc,YACnCkB,KACGzG,EAAI,EAAGA,EAAI,EAAGA,IACnByG,EAASrD,KAAKzD,EAAA,UAAiCK,EAAI,GAArC,QAElB,IAAI0G,GAAWF,EAAUG,UAAUC,SAAS,aAC5CJ,GAAUK,iBAAiB,QAAS,WAChCH,GAAYA,EACZrE,KAAKsE,UAAUG,OAAO,eAG1B,IAAMC,GAAOzB,SAASC,cAAc,QAAQoB,UAAUC,SAAS,OAG/DjB,GAAOkB,iBAAoBE,EAAO,QAAU,aAAgB,SAAUC,GAClEA,EAAGC,iBACHD,EAAGE,kBACHF,EAAKD,EAAOC,EAAKA,EAAGG,eAAe,EACnC,IAAMC,GAAUJ,EAAGI,QAAUhC,EAAaiC,OAAOhC,GAAYiC,KACvDC,EAAUP,EAAGO,QACfC,GAAiB,CACrB3D,GAAIR,QAAQ,SAAUW,EAAKiB,GACvBjB,EAAIX,QAAQ,SAAUC,EAAGtD,GACrB,GAAIoH,GAAW9D,EAAE,IAAM8D,GAAW9D,EAAE,GAAKC,EAAKC,GAAK+D,GAAWjE,EAAE,IAAMiE,GAAWjE,EAAE,GAAKC,EAAKG,EAAG,CAI5F,GAHAM,EAAIkB,OAAOlF,EAAG,GACd4E,IAEI8B,EAAU,CACV,GAAIe,GAAWrC,EAAaQ,eAAeC,YAAa,SAExD4B,GAASC,aAAa,MAAOjB,EAAS7D,EAAMC,UAAU,EAAG4D,EAASvG,OAAS,KAC3EuH,EAASE,OACTF,EAAW,KAEfD,GAAiB,KAGN,IAAfxD,EAAI9D,QACJ2D,EAAIqB,OAAOD,EAAO,KAGrBuC,KACD/C,EACS,IACLE,iBAAiBC,GACjBC,OAAOC,SAASC,YAM5BO,SAASC,cAAc,eAAesB,iBAAiB,QAAS,WAC5DxE,KAAKuF,MAAMC,QAAU,OACrBrB,EAAUoB,MAAMC,QAAU,OAC1BlE,UDoCDvB,GCzMOF,KDgNZ4F,IACA,SAAUrI,EAAQC,KAMlBqI,GACA,SAAUtI,EAAQC,EAASC,GElNjC,QAAAqI,GAAAC,GACA,MAAAtI,GAAAuI,EAAAD,IAEA,QAAAC,GAAAD,GACA,GAAAE,GAAAtE,EAAAoE,EACA,MAAAE,EAAA,GACA,SAAAC,OAAA,uBAAAH,EAAA,KACA,OAAAE,GAhBA,GAAAtE,IACAwE,UAAA,GACAC,UAAA,GACAC,UAAA,GACAC,UAAA,GACAC,UAAA,GACAC,UAAA,GACAC,UAAA,GAWAX,GAAAY,KAAA,WACA,MAAA5H,QAAA4H,KAAA/E,IAEAmE,EAAAa,QAAAX,EACAzI,EAAAC,QAAAsI,EACAA,EAAAG,GAAA,IFiOMW,GACA,SAAUrJ,EAAQC,EAASC,GGzPjCF,EAAAC,QAAAC,EAAAoJ,EAAA,yBH+PMC,GACA,SAAUvJ,EAAQC,EAASC,GIhQjCF,EAAAC,QAAAC,EAAAoJ,EAAA,yBJsQME,GACA,SAAUxJ,EAAQC,EAASC,GKvQjCF,EAAAC,QAAAC,EAAAoJ,EAAA,yBL6QMG,GACA,SAAUzJ,EAAQC,EAASC,GM9QjCF,EAAAC,QAAAC,EAAAoJ,EAAA,yBNoRMI,GACA,SAAU1J,EAAQC,EAASC,GOrRjCF,EAAAC,QAAAC,EAAAoJ,EAAA,yBP2RMK,GACA,SAAU3J,EAAQC,EAASC,GQ5RjCF,EAAAC,QAAAC,EAAAoJ,EAAA,yBRkSMM,GACA,SAAU5J,EAAQC,EAASC,GSnSjCF,EAAAC,QAAAC,EAAAoJ,EAAA,2BTySG","file":"js/pages/game-biecaibaikuai.c621ce8664492cb35654.js","sourcesContent":["webpackJsonp([6],{\n\n/***/ 139:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n__webpack_require__(140);\nvar Super = __webpack_require__(3);\n\nvar Sub = function (_Super) {\n    _inherits(Sub, _Super);\n\n    function Sub() {\n        _classCallCheck(this, Sub);\n\n        return _possibleConstructorReturn(this, (Sub.__proto__ || Object.getPrototypeOf(Sub)).apply(this, arguments));\n    }\n\n    _createClass(Sub, [{\n        key: 'power',\n\n        // (功)(覆)功能(覆盖超类型)\n        value: function power() {\n            // 横屏的时候 90 -190 , 横屏的时候 0 180\n            if (window.orientation === 90 || window.orientation === -90) {\n                alert('请竖屏之后，刷新页面进行游戏');\n            }\n            var tools = this.tools;\n            var applications = this.applications;\n            var canvasWrap = document.querySelector('.canvas-wrap');\n            var w = canvasWrap.offsetWidth;\n            var h = document.documentElement.clientHeight;\n            var canvas = applications.createElement({\n                elementName: 'canvas',\n                attribute: {\n                    width: w,\n                    height: h\n                }\n            });\n            canvasWrap.appendChild(canvas);\n            var ctx = canvas.getContext('2d');\n            var col = 4;\n            var row = 4;\n            var gap = 10;\n            var step = 10;\n            var score = 0;\n            var hp = 100;\n            var item = {\n                w: (w - (col - 1) * gap) / col,\n                h: (h - (row - 1) * gap) / row,\n                bg: '#000'\n            };\n            var map = [];\n\n            function randomMap() {\n                var result = [];\n                var max = 10;\n                var randomRow = tools.randomNum(0, max);\n                var colNum = 1;\n                if (randomRow === max) {\n                    // 当随机数等于max的时候,一行3个\n                    colNum = 3;\n                }\n                if (randomRow === max / 2) {\n                    // 当随机数等于max/2的时候,一行2个\n                    colNum = 2;\n                }\n                var randomResult = [];\n                // 随机2个时,这2个不允许被随机到同一个位置\n                var random = tools.randomNum(0, col - 1); // 当前这个在这一行是第几个\n                while (randomResult.indexOf(random) === -1 && randomResult.length < colNum) {\n                    randomResult.push(random);\n                    random = tools.randomNum(0, col - 1); // 当前这个在这一行是第几个\n                }\n                randomResult.forEach(function (v) {\n                    result.push([v * item.w + v * gap, -item.h, item.w, item.h]);\n                });\n                return result;\n            }\n\n            var drawTxt = function drawTxt() {\n                ctx.save();\n                ctx.beginPath();\n                ctx.fillStyle = '#f00';\n                ctx.font = '12px 微软雅黑';\n                ctx.textAlign = 'center';\n                ctx.textBaseline = 'middle';\n                ctx.fillText('\\u79EF\\u5206:' + score + ',\\u751F\\u547D\\u503C:' + hp, w / 2, 20);\n                ctx.closePath();\n                ctx.restore();\n            };\n\n            function move() {\n                requestAnimationFrame(function () {\n                    if (map.length === 0) {\n                        map.push(randomMap());\n                    } else {\n                        if (map[map.length - 1][0][1] >= gap) {\n                            map.push(randomMap());\n                        }\n                    }\n                    ctx.clearRect(0, 0, w, h);\n                    map.forEach(function (row) {\n                        row.forEach(function (v) {\n                            ctx.save();\n                            ctx.beginPath();\n                            ctx.fillStyle = '#000';\n                            ctx.rect.apply(ctx, _toConsumableArray(v));\n                            v[1] += step;\n                            ctx.fill();\n                            ctx.closePath();\n                            ctx.restore();\n                        });\n                    });\n                    if (hp < 0) {\n                        setTimeout(function () {\n                            alert('\\u6E38\\u620F\\u7ED3\\u675F,\\u603B\\u79EF\\u5206' + score);\n                            window.location.reload();\n                        }, 60);\n                        return;\n                    }\n                    drawTxt();\n                    map.forEach(function (row, index) {\n                        if (row[0][1] >= h) {\n                            map.splice(index, 1);\n                            hp--;\n                        }\n                    });\n                    move();\n                });\n            }\n\n            // 声音\n            var audioWrap = document.querySelector('.g-audio');\n            var audioSrc = [];\n            for (var i = 0; i < 7; i++) {\n                audioSrc.push(__webpack_require__(29)(\"./\" + (i + 1) + '.mp3'));\n            }\n            var hasSound = audioWrap.classList.contains('g-audio-on');\n            audioWrap.addEventListener('click', function () {\n                hasSound = !hasSound;\n                this.classList.toggle('g-audio-on');\n            });\n\n            var isPc = document.querySelector('html').classList.contains('g-pc');\n\n            // 踩黑块\n            canvas.addEventListener('' + (isPc ? 'click' : 'touchstart'), function (ev) {\n                ev.preventDefault();\n                ev.stopPropagation();\n                ev = isPc ? ev : ev.changedTouches[0];\n                var clientX = ev.clientX - applications.offset(canvasWrap).left;\n                var clientY = ev.clientY;\n                var isClickSuccess = false;\n                map.forEach(function (row, index) {\n                    row.forEach(function (v, i) {\n                        if (clientX >= v[0] && clientX <= v[0] + item.w && clientY >= v[1] && clientY <= v[1] + item.h) {\n                            row.splice(i, 1);\n                            score++;\n                            // 音乐\n                            if (hasSound) {\n                                var audioDom = applications.createElement({ elementName: 'audio' });\n                                // audioDom.setAttribute('src', audioSrc[score % audioSrc.length]);\n                                audioDom.setAttribute('src', audioSrc[tools.randomNum(0, audioSrc.length - 1)]);\n                                audioDom.play();\n                                audioDom = null;\n                            }\n                            isClickSuccess = true;\n                        }\n                    });\n                    if (row.length === 0) {\n                        map.splice(index, 1);\n                    }\n                });\n                if (!isClickSuccess) {\n                    hp--;\n                    if (hp < 0) {\n                        alert('\\u6E38\\u620F\\u7ED3\\u675F,\\u603B\\u79EF\\u5206' + score);\n                        window.location.reload();\n                    }\n                }\n            });\n\n            // 游戏开始\n            document.querySelector('.game-start').addEventListener('click', function () {\n                this.style.display = 'none';\n                audioWrap.style.display = 'none';\n                move();\n            });\n        }\n    }]);\n\n    return Sub;\n}(Super);\n\nnew Sub();\n\n/***/ }),\n\n/***/ 140:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 29:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar map = {\n\t\"./1.mp3\": 30,\n\t\"./2.mp3\": 31,\n\t\"./3.mp3\": 32,\n\t\"./4.mp3\": 33,\n\t\"./5.mp3\": 34,\n\t\"./6.mp3\": 35,\n\t\"./7.mp3\": 36\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 29;\n\n/***/ }),\n\n/***/ 30:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"audios/1.38e46759.mp3\";\n\n/***/ }),\n\n/***/ 31:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"audios/2.5576c20e.mp3\";\n\n/***/ }),\n\n/***/ 32:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"audios/3.25e1d33d.mp3\";\n\n/***/ }),\n\n/***/ 33:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"audios/4.220478be.mp3\";\n\n/***/ }),\n\n/***/ 34:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"audios/5.ab15dc12.mp3\";\n\n/***/ }),\n\n/***/ 35:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"audios/6.44295654.mp3\";\n\n/***/ }),\n\n/***/ 36:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"audios/7.c04a5503.mp3\";\n\n/***/ })\n\n},[139]);\n\n\n// WEBPACK FOOTER //\n// js/pages/game-biecaibaikuai.c621ce8664492cb35654.js","require('../../scss/pages/game-biecaibaikuai.scss');\nconst Super = require('../pages-super/super');\n\nclass Sub extends Super {\n    // (功)(覆)功能(覆盖超类型)\n    power() {\n        // 横屏的时候 90 -190 , 横屏的时候 0 180\n        if (window.orientation === 90 || window.orientation === -90) {\n            alert('请竖屏之后，刷新页面进行游戏');\n        }\n        const tools = this.tools;\n        const applications = this.applications;\n        const canvasWrap = document.querySelector('.canvas-wrap');\n        const w = canvasWrap.offsetWidth;\n        const h = document.documentElement.clientHeight;\n        const canvas = applications.createElement({\n            elementName: 'canvas',\n            attribute: {\n                width: w,\n                height: h,\n            },\n        });\n        canvasWrap.appendChild(canvas);\n        const ctx = canvas.getContext('2d');\n        const col = 4;\n        const row = 4;\n        const gap = 10;\n        const step = 10;\n        let score = 0;\n        let hp = 100;\n        const item = {\n            w: (w - (col - 1) * gap) / col,\n            h: (h - (row - 1) * gap) / row,\n            bg: '#000',\n        };\n        const map = [];\n\n        function randomMap() {\n            const result = [];\n            const max = 10;\n            const randomRow = tools.randomNum(0, max);\n            let colNum = 1;\n            if (randomRow === max) { // 当随机数等于max的时候,一行3个\n                colNum = 3;\n            }\n            if (randomRow === max / 2) { // 当随机数等于max/2的时候,一行2个\n                colNum = 2;\n            }\n            const randomResult = [];\n            // 随机2个时,这2个不允许被随机到同一个位置\n            let random = tools.randomNum(0, col - 1); // 当前这个在这一行是第几个\n            while (randomResult.indexOf(random) === -1 && randomResult.length < colNum) {\n                randomResult.push(random);\n                random = tools.randomNum(0, col - 1); // 当前这个在这一行是第几个\n            }\n            randomResult.forEach(function (v) {\n                result.push([v * item.w + v * gap, -item.h, item.w, item.h]);\n            });\n            return result;\n        }\n\n        const drawTxt = function () {\n            ctx.save();\n            ctx.beginPath();\n            ctx.fillStyle = '#f00';\n            ctx.font = '12px 微软雅黑';\n            ctx.textAlign = 'center';\n            ctx.textBaseline = 'middle';\n            ctx.fillText(`积分:${score},生命值:${hp}`, w / 2, 20);\n            ctx.closePath();\n            ctx.restore();\n        };\n\n        function move() {\n            requestAnimationFrame(() => {\n                if (map.length === 0) {\n                    map.push(randomMap());\n                } else {\n                    if (map[map.length - 1][0][1] >= gap) {\n                        map.push(randomMap());\n                    }\n                }\n                ctx.clearRect(0, 0, w, h);\n                map.forEach(function (row) {\n                    row.forEach(function (v) {\n                        ctx.save();\n                        ctx.beginPath();\n                        ctx.fillStyle = '#000';\n                        ctx.rect(...v);\n                        v[1] += step;\n                        ctx.fill();\n                        ctx.closePath();\n                        ctx.restore();\n                    });\n                });\n                if (hp < 0) {\n                    setTimeout(function () {\n                        alert(`游戏结束,总积分${score}`);\n                        window.location.reload();\n                    }, 60);\n                    return;\n                }\n                drawTxt();\n                map.forEach(function (row, index) {\n                    if (row[0][1] >= h) {\n                        map.splice(index, 1);\n                        hp--;\n                    }\n                });\n                move();\n            });\n        }\n\n        // 声音\n        const audioWrap = document.querySelector('.g-audio');\n        const audioSrc = [];\n        for (let i = 0; i < 7; i++) {\n            audioSrc.push(require(`../../audios/syllable/${i + 1}.mp3`));\n        }\n        let hasSound = audioWrap.classList.contains('g-audio-on');\n        audioWrap.addEventListener('click', function () {\n            hasSound = !hasSound;\n            this.classList.toggle('g-audio-on');\n        });\n\n        const isPc = document.querySelector('html').classList.contains('g-pc');\n\n        // 踩黑块\n        canvas.addEventListener(`${isPc ? 'click' : 'touchstart'}`, function (ev) {\n            ev.preventDefault();\n            ev.stopPropagation();\n            ev = isPc ? ev : ev.changedTouches[0];\n            const clientX = ev.clientX - applications.offset(canvasWrap).left;\n            const clientY = ev.clientY;\n            let isClickSuccess = false;\n            map.forEach(function (row, index) {\n                row.forEach(function (v, i) {\n                    if (clientX >= v[0] && clientX <= v[0] + item.w && clientY >= v[1] && clientY <= v[1] + item.h) {\n                        row.splice(i, 1);\n                        score++;\n                        // 音乐\n                        if (hasSound) {\n                            let audioDom = applications.createElement({elementName: 'audio'});\n                            // audioDom.setAttribute('src', audioSrc[score % audioSrc.length]);\n                            audioDom.setAttribute('src', audioSrc[tools.randomNum(0, audioSrc.length - 1)]);\n                            audioDom.play();\n                            audioDom = null;\n                        }\n                        isClickSuccess = true;\n                    }\n                });\n                if (row.length === 0) {\n                    map.splice(index, 1);\n                }\n            });\n            if (!isClickSuccess) {\n                hp--;\n                if (hp < 0) {\n                    alert(`游戏结束,总积分${score}`);\n                    window.location.reload();\n                }\n            }\n        });\n\n        // 游戏开始\n        document.querySelector('.game-start').addEventListener('click', function () {\n            this.style.display = 'none';\n            audioWrap.style.display = 'none';\n            move();\n        });\n    }\n}\n\nnew Sub();\n\n\n\n// WEBPACK FOOTER //\n// ./app/phone/assets/js/pages/game-biecaibaikuai.js","var map = {\n\t\"./1.mp3\": 30,\n\t\"./2.mp3\": 31,\n\t\"./3.mp3\": 32,\n\t\"./4.mp3\": 33,\n\t\"./5.mp3\": 34,\n\t\"./6.mp3\": 35,\n\t\"./7.mp3\": 36\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 29;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/phone/assets/audios/syllable ^\\.\\/.*\\.mp3$\n// module id = 29\n// module chunks = 5 6","module.exports = __webpack_public_path__ + \"audios/1.38e46759.mp3\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/phone/assets/audios/syllable/1.mp3\n// module id = 30\n// module chunks = 5 6","module.exports = __webpack_public_path__ + \"audios/2.5576c20e.mp3\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/phone/assets/audios/syllable/2.mp3\n// module id = 31\n// module chunks = 5 6","module.exports = __webpack_public_path__ + \"audios/3.25e1d33d.mp3\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/phone/assets/audios/syllable/3.mp3\n// module id = 32\n// module chunks = 5 6","module.exports = __webpack_public_path__ + \"audios/4.220478be.mp3\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/phone/assets/audios/syllable/4.mp3\n// module id = 33\n// module chunks = 5 6","module.exports = __webpack_public_path__ + \"audios/5.ab15dc12.mp3\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/phone/assets/audios/syllable/5.mp3\n// module id = 34\n// module chunks = 5 6","module.exports = __webpack_public_path__ + \"audios/6.44295654.mp3\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/phone/assets/audios/syllable/6.mp3\n// module id = 35\n// module chunks = 5 6","module.exports = __webpack_public_path__ + \"audios/7.c04a5503.mp3\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/phone/assets/audios/syllable/7.mp3\n// module id = 36\n// module chunks = 5 6"],"sourceRoot":""}
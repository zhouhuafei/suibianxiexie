{"version":3,"sources":["webpack:///js/pages/game-wuziqi.b577bf57c3d5f4d1d7b0.js","webpack:///./app/phone/assets/js/pages/game-wuziqi.js"],"names":["webpackJsonp","93","module","exports","__webpack_require__","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","_createClass","defineProperties","target","props","i","length","descriptor","defineProperty","key","protoProps","staticProps","Super","_Super","Sub","this","getPrototypeOf","apply","arguments","window","orientation","alert","applications","canvasWrap","document","querySelector","w","offsetWidth","h","documentElement","clientHeight","game","nextColor","blackNum","whiteNum","colWidth","padding","initY","map","Math","pow","x","y","floor","push","left","top","radius","type","canvas","createElement","elementName","attribute","width","height","ctx","getContext","drawLine","startX","startY","endX","endY","save","beginPath","strokeStyle","moveTo","lineTo","stroke","closePath","restore","drawCircle","r","fillStyle","arc","PI","fill","drawTxt","clearRect","font","textAlign","textBaseline","fillText","forEach","v","colNum","addEventListener","ev","clientX","offset","clientY","nowX","nowY","result","str","indexOf","setTimeout","location","reload","appendChild","94"],"mappings":"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","file":"js/pages/game-wuziqi.b577bf57c3d5f4d1d7b0.js","sourcesContent":["webpackJsonp([14],{\n\n/***/ 93:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n__webpack_require__(94);\nvar Super = __webpack_require__(3);\n\nvar Sub = function (_Super) {\n    _inherits(Sub, _Super);\n\n    function Sub() {\n        _classCallCheck(this, Sub);\n\n        return _possibleConstructorReturn(this, (Sub.__proto__ || Object.getPrototypeOf(Sub)).apply(this, arguments));\n    }\n\n    _createClass(Sub, [{\n        key: 'power',\n        value: function power() {\n            // 横屏的时候 90 -190 , 横屏的时候 0 180\n            if (window.orientation === 90 || window.orientation === -90) {\n                alert('请竖屏之后，刷新页面进行游戏');\n            }\n            var applications = this.applications;\n            var canvasWrap = document.querySelector('.canvas-wrap');\n            var w = canvasWrap.offsetWidth;\n            var h = document.documentElement.clientHeight;\n            var padding = 20.5;\n            var colNum = 15; // 正规应该是15列\n            var game = {\n                nextColor: 'black', // 下一颗棋子的颜色\n                blackNum: 0, // 黑色棋子个数\n                whiteNum: 0 // 白色棋子个数\n            };\n            var colWidth = (w - padding * 2) / (colNum - 1);\n            var initX = padding;\n            var initY = (h - w) / 2 + padding;\n            var map = [];\n            for (var i = 0; i < Math.pow(colNum, 2); i++) {\n                var x = i % colNum;\n                var y = Math.floor(i / colNum);\n                map.push({\n                    x: x,\n                    y: y,\n                    left: x * colWidth + initX,\n                    top: y * colWidth + initY,\n                    radius: colWidth / 2.4,\n                    type: 'transparent'\n                });\n            }\n            var canvas = applications.createElement({\n                elementName: 'canvas',\n                attribute: {\n                    width: w,\n                    height: h\n                }\n            });\n            var ctx = canvas.getContext('2d');\n            var drawLine = function drawLine(startX, startY, endX, endY) {\n                ctx.save();\n                ctx.beginPath();\n                ctx.strokeStyle = '#000';\n                ctx.moveTo(startX, startY);\n                ctx.lineTo(endX, endY);\n                ctx.stroke();\n                ctx.closePath();\n                ctx.restore();\n            };\n            var drawCircle = function drawCircle(x, y, r, fillStyle) {\n                ctx.save();\n                ctx.beginPath();\n                ctx.fillStyle = fillStyle;\n                ctx.arc(x, y, r, 0, Math.PI * 2, false);\n                ctx.fill();\n                ctx.closePath();\n                ctx.restore();\n            };\n            var drawTxt = function drawTxt() {\n                ctx.save();\n                ctx.beginPath();\n                ctx.clearRect(0, 0, w, initY / 1.4);\n                ctx.font = '16px 微软雅黑';\n                ctx.textAlign = 'center';\n                ctx.textBaseline = 'middle';\n                ctx.fillText('\\u8BF7' + (game.nextColor === 'black' ? '黑色' : '白色') + '\\u68CB\\u5B50\\u843D\\u5B50', w / 2, initY / 2);\n                ctx.closePath();\n                ctx.restore();\n            };\n            drawTxt();\n            var drawCoordinate = function drawCoordinate(v) {\n                ctx.save();\n                ctx.beginPath();\n                ctx.font = '10px 微软雅黑';\n                ctx.textAlign = 'center';\n                ctx.textBaseline = 'middle';\n                ctx.fillText(v.x + ',' + v.y, v.left, v.top);\n                ctx.closePath();\n                ctx.restore();\n            };\n            map.forEach(function (v, i) {\n                if (v.x === 0) {\n                    var target = map[i + colNum - 1];\n                    drawLine(v.left, v.top, target.left, target.top);\n                }\n                if (v.y === 0) {\n                    var _target = map[colNum * colNum - 1 - (colNum - 1) + v.x];\n                    drawLine(v.left, v.top, _target.left, _target.top);\n                }\n                if (i === Math.floor(map.length / 2)) {\n                    drawCircle(v.left, v.top, v.radius / 4, 'black');\n                }\n                // drawCoordinate(v); // 画坐标\n            });\n            canvas.addEventListener('click', function (ev) {\n                var clientX = ev.clientX - applications.offset(canvasWrap).left;\n                var clientY = ev.clientY;\n                var nowX = null;\n                var nowY = null;\n                map.forEach(function (v) {\n                    if (clientX >= v.left - v.radius && clientX <= v.left + v.radius && clientY >= v.top - v.radius && clientY <= v.top + v.radius) {\n                        // 判断点击范围是否是正确的区域\n                        if (v.type === 'transparent') {\n                            drawCircle(v.left, v.top, v.radius, game.nextColor);\n                            v.type = game.nextColor;\n                            nowX = v.x;\n                            nowY = v.y;\n                            if (game.nextColor === 'black') {\n                                game.blackNum++;\n                                game.nextColor = 'white';\n                            } else {\n                                game.whiteNum++;\n                                game.nextColor = 'black';\n                            }\n                        }\n                    }\n                });\n                // 提示信息\n                drawTxt();\n                // 判断输赢\n                var result = ['', '', '', ''];\n                map.forEach(function (v) {\n                    var str = '';\n                    if (v.type === 'transparent') {\n                        str = 't';\n                    }\n                    if (v.type === 'black') {\n                        str = 'b';\n                    }\n                    if (v.type === 'white') {\n                        str = 'w';\n                    }\n                    if (v.x === nowX) {\n                        //  垂直\n                        result[0] += str;\n                    }\n                    if (v.y === nowY) {\n                        //  水平\n                        result[1] += str;\n                    }\n                    if (v.x + v.y === nowX + nowY) {\n                        // 左斜\n                        result[2] += str;\n                    }\n                    if (v.x - v.y === nowX - nowY) {\n                        // 右斜\n                        result[3] += str;\n                    }\n                });\n                result.forEach(function (v) {\n                    if (v.indexOf('tbbbbt') !== -1) {\n                        setTimeout(function () {\n                            alert('黑棋获胜');\n                            window.location.reload();\n                        }, 60);\n                    }\n                    if (v.indexOf('twwwwt') !== -1) {\n                        setTimeout(function () {\n                            alert('白棋获胜');\n                            window.location.reload();\n                        }, 60);\n                    }\n                });\n            });\n            canvasWrap.appendChild(canvas);\n        }\n    }]);\n\n    return Sub;\n}(Super);\n\nnew Sub();\n\n/***/ }),\n\n/***/ 94:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ })\n\n},[93]);\n\n\n// WEBPACK FOOTER //\n// js/pages/game-wuziqi.b577bf57c3d5f4d1d7b0.js","require('../../scss/pages/game-wuziqi.scss');\nconst Super = require('../pages-super/super');\n\nclass Sub extends Super {\n    power() {\n        // 横屏的时候 90 -190 , 横屏的时候 0 180\n        if (window.orientation === 90 || window.orientation === -90) {\n            alert('请竖屏之后，刷新页面进行游戏');\n        }\n        const applications = this.applications;\n        const canvasWrap = document.querySelector('.canvas-wrap');\n        const w = canvasWrap.offsetWidth;\n        const h = document.documentElement.clientHeight;\n        const padding = 20.5;\n        const colNum = 15; // 正规应该是15列\n        const game = {\n            nextColor: 'black', // 下一颗棋子的颜色\n            blackNum: 0, // 黑色棋子个数\n            whiteNum: 0, // 白色棋子个数\n        };\n        const colWidth = (w - padding * 2) / (colNum - 1);\n        const initX = padding;\n        const initY = (h - w) / 2 + padding;\n        const map = [];\n        for (let i = 0; i < Math.pow(colNum, 2); i++) {\n            const x = i % colNum;\n            const y = Math.floor(i / colNum);\n            map.push({\n                x: x,\n                y: y,\n                left: x * colWidth + initX,\n                top: y * colWidth + initY,\n                radius: colWidth / 2.4,\n                type: 'transparent',\n            });\n        }\n        const canvas = applications.createElement({\n            elementName: 'canvas',\n            attribute: {\n                width: w,\n                height: h,\n            },\n        });\n        const ctx = canvas.getContext('2d');\n        const drawLine = function (startX, startY, endX, endY) {\n            ctx.save();\n            ctx.beginPath();\n            ctx.strokeStyle = '#000';\n            ctx.moveTo(startX, startY);\n            ctx.lineTo(endX, endY);\n            ctx.stroke();\n            ctx.closePath();\n            ctx.restore();\n        };\n        const drawCircle = function (x, y, r, fillStyle) {\n            ctx.save();\n            ctx.beginPath();\n            ctx.fillStyle = fillStyle;\n            ctx.arc(x, y, r, 0, Math.PI * 2, false);\n            ctx.fill();\n            ctx.closePath();\n            ctx.restore();\n        };\n        const drawTxt = function () {\n            ctx.save();\n            ctx.beginPath();\n            ctx.clearRect(0, 0, w, initY / 1.4);\n            ctx.font = '16px 微软雅黑';\n            ctx.textAlign = 'center';\n            ctx.textBaseline = 'middle';\n            ctx.fillText(`请${game.nextColor === 'black' ? '黑色' : '白色'}棋子落子`, w / 2, initY / 2);\n            ctx.closePath();\n            ctx.restore();\n        };\n        drawTxt();\n        const drawCoordinate = function (v) {\n            ctx.save();\n            ctx.beginPath();\n            ctx.font = '10px 微软雅黑';\n            ctx.textAlign = 'center';\n            ctx.textBaseline = 'middle';\n            ctx.fillText(`${v.x},${v.y}`, v.left, v.top);\n            ctx.closePath();\n            ctx.restore();\n        };\n        map.forEach(function (v, i) {\n            if (v.x === 0) {\n                const target = map[i + colNum - 1];\n                drawLine(v.left, v.top, target.left, target.top);\n            }\n            if (v.y === 0) {\n                const target = map[(colNum * colNum - 1) - (colNum - 1) + v.x];\n                drawLine(v.left, v.top, target.left, target.top);\n            }\n            if (i === Math.floor(map.length / 2)) {\n                drawCircle(v.left, v.top, v.radius / 4, 'black');\n            }\n            // drawCoordinate(v); // 画坐标\n        });\n        canvas.addEventListener('click', function (ev) {\n            const clientX = ev.clientX - applications.offset(canvasWrap).left;\n            const clientY = ev.clientY;\n            let nowX = null;\n            let nowY = null;\n            map.forEach(function (v) {\n                if (clientX >= v.left - v.radius && clientX <= v.left + v.radius && clientY >= v.top - v.radius && clientY <= v.top + v.radius) {\n                    // 判断点击范围是否是正确的区域\n                    if (v.type === 'transparent') {\n                        drawCircle(v.left, v.top, v.radius, game.nextColor);\n                        v.type = game.nextColor;\n                        nowX = v.x;\n                        nowY = v.y;\n                        if (game.nextColor === 'black') {\n                            game.blackNum++;\n                            game.nextColor = 'white';\n                        } else {\n                            game.whiteNum++;\n                            game.nextColor = 'black';\n                        }\n                    }\n                }\n            });\n            // 提示信息\n            drawTxt();\n            // 判断输赢\n            const result = ['', '', '', ''];\n            map.forEach(function (v) {\n                let str = '';\n                if (v.type === 'transparent') {\n                    str = 't';\n                }\n                if (v.type === 'black') {\n                    str = 'b';\n                }\n                if (v.type === 'white') {\n                    str = 'w';\n                }\n                if (v.x === nowX) { //  垂直\n                    result[0] += str;\n                }\n                if (v.y === nowY) { //  水平\n                    result[1] += str;\n                }\n                if (v.x + v.y === nowX + nowY) { // 左斜\n                    result[2] += str;\n                }\n                if (v.x - v.y === nowX - nowY) { // 右斜\n                    result[3] += str;\n                }\n            });\n            result.forEach(function (v) {\n                if (v.indexOf('tbbbbt') !== -1) {\n                    setTimeout(function () {\n                        alert('黑棋获胜');\n                        window.location.reload();\n                    }, 60);\n                }\n                if (v.indexOf('twwwwt') !== -1) {\n                    setTimeout(function () {\n                        alert('白棋获胜');\n                        window.location.reload();\n                    }, 60);\n                }\n            });\n        });\n        canvasWrap.appendChild(canvas);\n    }\n}\n\nnew Sub();\n\n\n\n// WEBPACK FOOTER //\n// ./app/phone/assets/js/pages/game-wuziqi.js"],"sourceRoot":""}
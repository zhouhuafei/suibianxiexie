<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Title</title>
    </head>
    <body>
        <script>
            // 设置cookie
            function setCookie(name, value, expires, domain, path, secure) {
                var myDate = new Date();
                var myTime = myDate.getTime();
                myDate.setTime(myTime + expires * 24 * 60 * 60 * 1000); // 单位是天 1天 1/24天(1小时)
                var cookie = name + '=' + value;
                if (expires) {
                    cookie += '; expires=' + myDate;
                }
                if (domain) {
                    cookie += '; domain=' + domain;
                }
                if (path) {
                    cookie += '; path=' + path;
                }
                if (secure) {
                    cookie += '; secure=' + secure;
                }
                document.cookie = cookie;
            }

            // 获取cookie
            function getCookie(name) {
                var cookie = document.cookie;
                var arr = cookie.split('; ');
                var value = '';
                arr.forEach(function (v) {
                    var arr2 = v.split('=');
                    if (arr2[0] === name) {
                        value = arr2[1];
                    }
                });
                return value;
            }

            // 清除cookie
            function removeCookie(name, domain, path, secure) {
                setCookie(name, '', -1, domain, path, secure);
            }

            window.addEventListener('message', function (result) {
                var data = result.data;
                setCookie(data.name, data.value, data.expires, data.domain, data.path);
            });
        </script>
    </body>
</html>
